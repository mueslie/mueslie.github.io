(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html":
/*!**************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container\">\r\n  <router-outlet></router-outlet>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<!-- so war es vorher\r\n<app-tab-example></app-tab-example>\r\n<router-outlet></router-outlet>\r\n<app-messagebox></app-messagebox>\r\n-->\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/graph/graph.component.html":
/*!**********************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/graph/graph.component.html ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div #nameOfDiv></div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/messagebox/messagebox.component.html":
/*!********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/messagebox/messagebox.component.html ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"messageService.messages.length\">\r\n\r\n  <h2>Messages</h2>\r\n  <button class=\"clear\"\r\n          (click)=\"messageService.clear()\">clear</button>\r\n  <div *ngFor='let message of messageService.messages'> {{message.timestamp}} | {{message.text}} </div>\r\n\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/page-not-found/page-not-found.component.html":
/*!****************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/page-not-found/page-not-found.component.html ***!
  \****************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <div class=\"error-template\">\r\n      <h1>\r\n        Falsch abgebogen</h1>\r\n      <h2>\r\n        404 Not Found</h2>\r\n      <div class=\"error-details\">\r\n        Sorry, es ist ein Fehler mit der angefragten Seite aufgetreten. Seite nicht gefunden\r\n      </div>\r\n      <div class=\"error-actions\">\r\n        <a routerLink=\"\" class=\"btn btn-primary btn-lg\"><span class=\"glyphicon glyphicon-home\"></span>\r\n          Zurück zum Start </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/piechart/piechart.component.html":
/*!****************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/piechart/piechart.component.html ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div id=\"pie\"><svg></svg></div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/pyramid/pyramid.component.html":
/*!**************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/pyramid/pyramid.component.html ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<p>pyramid works!</p>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/show-data/show-data.component.html":
/*!******************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/show-data/show-data.component.html ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/stackbar/stackbar.component.html":
/*!****************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/stackbar/stackbar.component.html ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/tab-example/tab-example.component.html":
/*!**********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/tab-example/tab-example.component.html ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<!-- <mat-checkbox #selectAfterAdding> Select tab after adding </mat-checkbox>-->\r\n<div class=\"slidecontainer\">\r\n  <input type=\"range\" min=\"2020\" max=\"2100\" value=\"2020\" class=\"slider\" id=\"yearSliderInput\">\r\n  <p>Jahr: <input type=\"number\" id=\"yearTextInput\"></p>\r\n</div>\r\n<!--\r\n<mat-slider min=\"1\" max=\"5\" step=\"0.5\" value=\"1.5\"></mat-slider>\r\n\r\n<div class=\"range\">\r\n  <input type=\"range\" min=\"2020\" max=\"2100\" steps=\"1\" value=\"1\">\r\n</div>\r\n\r\n<ul class=\"range-labels\">\r\n  <li class=\"active selected\">2020</li>\r\n  <li>2030</li>\r\n  <li>2040</li>\r\n  <li>2050</li>\r\n  <li>2060</li>\r\n  <li>2070</li>\r\n  <li>2080</li>\r\n  <li>2090</li>\r\n  <li>2100</li>\r\n</ul>\r\n-->\r\n<mat-tab-group (selectedTabChange)=\"selectedTab($event)\" [(selectedIndex)]=\"categoryIndex\" mat-align-tabs=\"left\" animationDuration=\"0ms\" onload=\"loadContent()\">\r\n  <mat-tab label=\"Übersicht\">Übersicht\r\n    <!--Inhalt Übersicht -->\r\n\r\n    <div id=\"overview\">\r\n\r\n    </div>\r\n  </mat-tab>\r\n  <mat-tab label=\"Startverteilung\">\r\n    <mat-tab-group animationDuration=\"0ms\" [(selectedIndex)]=\"groupIndex\" (selectedTabChange)=\"selectCategory($event)\" #gender headerPosition=\"above\">\r\n      <mat-tab *ngFor=\"let tab of tabs; let index = index\" [label]=\"tab\">\r\n        <button id=\"saveButton\" mat-raised-button color=\"secondary\" (click)=\"savePopulation()\">Speichern</button>\r\n        <table>\r\n          <tr>\r\n            <td>\r\n              Frauen : <input matInput placeholder=\"Frauen\" id=\"femaleAmountInput\" disabled=\"true\"><br>\r\n              <div id=\"genderF\"></div>\r\n            </td>\r\n            <td>\r\n              Männer : <input matInput placeholder=\"Männer\" id=\"maleAmountInput\" disabled=\"true\"><br>\r\n              <div id=\"genderM\"></div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n        \r\n      </mat-tab>\r\n    </mat-tab-group>\r\n  </mat-tab>\r\n  <mat-tab label=\"Fertilität\">\r\n    <mat-tab-group animationDuration=\"0ms\" [(selectedIndex)]=\"groupIndex\" (selectedTabChange)=\"selectCategory($event)\" #fertility>\r\n      <mat-tab *ngFor=\"let tab of tabs; let index = index\" [label]=\"tab\">\r\n        <button id=\"saveButton\" mat-raised-button color=\"secondary\" style=\"visibility: hidden;\" (click)=\"saveFertility()\">Speichern</button>\r\n        <table>\r\n          <tr>\r\n            <td>\r\n              Frauen : <input matInput placeholder=\"Fertilität\" id=\"femaleAmountInput\"><br>\r\n              <div id=\"fertilityF\"></div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </mat-tab>\r\n    </mat-tab-group>\r\n  </mat-tab>\r\n  <mat-tab label=\"Einwanderung\">\r\n    <mat-tab-group  animationDuration=\"0ms\" [(selectedIndex)]=\"groupIndex\" (selectedTabChange)=\"selectCategory($event)\" #migration>\r\n      <mat-tab *ngFor=\"let tab of tabs; let index = index\" [label]=\"tab\">\r\n        <button id=\"saveButton\" mat-raised-button color=\"secondary\" style=\"visibility: hidden;\" (click)=\"saveImmigration()\">Speichern</button>\r\n        <table>\r\n          <tr>\r\n            <td>\r\n              Frauen : <input matInput placeholder=\"Frauen\" id=\"femaleAmountInput\"><br>\r\n              <div id=\"migrationF\"></div>\r\n            </td>\r\n            <td>\r\n              Männer : <input matInput placeholder=\"Männer\" id=\"maleAmountInput\"><br>\r\n              <div id=\"migrationM\"></div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </mat-tab>\r\n    </mat-tab-group>\r\n  </mat-tab>\r\n  <mat-tab label=\"Überlebensrate\">\r\n    <mat-tab-group  animationDuration=\"0ms\" [(selectedIndex)]=\"groupIndex\" (selectedTabChange)=\"selectCategory($event)\" #deathRate>\r\n      <mat-tab *ngFor=\"let tab of tabs; let index = index\" [label]=\"tab\">\r\n        <button id=\"saveButton\" mat-raised-button color=\"secondary\" style=\"visibility: hidden;\" (click)=\"saveSurvive()\">Speichern</button>\r\n        <table>\r\n          <tr>\r\n            <td>\r\n              Frauen : \r\n              <div id=\"surviveF\"></div>\r\n            </td>\r\n            <td>\r\n              Männer :\r\n              <div id=\"surviveM\"></div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </mat-tab>\r\n    </mat-tab-group>\r\n  </mat-tab>\r\n  <mat-tab label=\"Nachzug\">\r\n    <mat-tab-group  animationDuration=\"0ms\" [(selectedIndex)]=\"groupIndex\" (selectedTabChange)=\"selectCategory($event)\" #followUp>\r\n      <mat-tab *ngFor=\"let tab of tabs; let index = index\" [label]=\"tab\">\r\n        <button id=\"saveButton\" mat-raised-button color=\"secondary\" style=\"visibility: hidden;\" (click)=\"saveReunification()\">Speichern</button>\r\n        <table>\r\n          <tr>\r\n            <td>\r\n              Frauen : <input matInput placeholder=\"Frauen\" id=\"femaleAmountInput\"><br>\r\n              <div id=\"reunificationF\"></div>\r\n            </td>\r\n            <td>\r\n              Männer : <input matInput placeholder=\"Männer\" id=\"maleAmountInput\"><br>\r\n              <div id=\"reunificationM\"></div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </mat-tab>\r\n    </mat-tab-group>\r\n  </mat-tab>\r\n</mat-tab-group>\r\n\r\n<!--Geschlechtsverteilung', 'Fertilität', 'Einwanderung', 'Sterberate', 'Nachzug']; -->\r\n<!--\r\n<mat-tab-group>\r\n  <mat-tab *ngFor=\"let tab of tabs; let index = index\" [label]=\"tab\">\r\n    <mat-tab-group mat-align-tabs=\"center\" (selectedTabChange)=\"selectedTab($event)\">\r\n      <mat-tab label=\"Übersicht\">Übersicht </mat-tab>\r\n\r\n      <mat-tab label=\"Geschlechtsverteilung\">Verteilung Geschlecht\r\n        <br/>\r\n        <button mat-raised-button class=\"TabExampleComponent\" (click)=\"setRandomValues()\">Load Random Values</button>\r\n        <br/>\r\n      </mat-tab>\r\n      <mat-tab label=\"Fertilität\"> Fertilitätsraten</mat-tab>\r\n      <mat-tab label=\"Einwanderung\"> Einwanderung</mat-tab>\r\n      <mat-tab label=\"Auswanderung\"> Auswanderung</mat-tab>\r\n      <mat-tab label=\"Sterberaten\"> Sterberaten </mat-tab>\r\n      <mat-tab label=\"Nachzug\"> Nachzug</mat-tab>\r\n\r\n\r\n    </mat-tab-group>\r\n\r\n  </mat-tab>\r\n</mat-tab-group>\r\n-->\r\n\r\n<!--- VARIANTE ZUM AUSPROBIEREN\r\n<mat-tab-group mat-align-tabs=\"start\">\r\n  <mat-tab label=\"Deutschland\">\r\n    <mat-tab-group mat-align-tabs=\"center\">\r\n      <mat-tab label=\"Fertilität\"> Fertilität</mat-tab>\r\n      <mat-tab label=\"Sterbe\"> Sterbe</mat-tab>\r\n      <mat-tab label=\"irgendwas\"> irgendwas </mat-tab>\r\n    </mat-tab-group>\r\n  </mat-tab>\r\n  <mat-tab label=\"Einwanderer Stufe 1 \">\r\n    <mat-tab-group mat-align-tabs=\"center\">\r\n      <mat-tab label=\"Fertilität\"> Fertilität</mat-tab>\r\n      <mat-tab label=\"Sterbe\"> Sterbe</mat-tab>\r\n      <mat-tab label=\"irgendwas\"> irgendwas </mat-tab>\r\n    </mat-tab-group>\r\n  </mat-tab>\r\n</mat-tab-group>\r\n-->\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/table/table.component.html":
/*!**********************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/table/table.component.html ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<script src=\"https://d3js.org/d3.v5.min.js\"></script>\r\n<script src=\"https://unpkg.com/d3-simple-slider\"></script>\r\n\r\n<div class=\"row align-items-center\">\r\n  <div class=\"col-sm-2\"><p id=\"value-time\"></p></div>\r\n  <div class=\"col-sm\"><div id=\"slider-time\"></div></div>\r\n</div>\r\n\r\n\r\n<div id=\"slider\"></div>\r\n<!-- Choose Table  -->\r\n<table mat-table #Overview [dataSource]=\"tableDS\" class=\"mat-elevation-z0\">\r\n  <ng-container matColumnDef=\"Land\">\r\n    <th mat-header-cell *matHeaderCellDef> Gruppe </th>\r\n    <td mat-cell *matCellDef=\"let element\"> {{element.type}}</td>\r\n   </ng-container>\r\n\r\n\r\n  <ng-container matColumnDef=\"Anzahl\">\r\n    <th mat-header-cell *matHeaderCellDef> Anzahl Gesamt</th>\r\n    <td mat-cell *matCellDef=\"let element\"> {{element.amount}}</td>\r\n  </ng-container>\r\n\r\n  <ng-container matColumnDef=\"Jahr\">\r\n    <th mat-header-cell *matHeaderCellDef> Jahr</th>\r\n    <td mat-cell *matCellDef=\"let element\"> {{element.year}}</td>\r\n  </ng-container>\r\n\r\n\r\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" (click)=\"changeHiddenStatus(row)\"\r\n      [style.background]=\" row == highlightedRow ? 'PaleVioletRed' : ''\"></tr>\r\n</table>\r\n<br>\r\n<hr>\r\n\r\n<!-- Detailed Table -->\r\n<table mat-table id=\"Group\" [dataSource]=\"clickedDataSet\"  class=\"mat-elevation-z4\" [hidden]=\"true\"   >\r\n\r\n  <ng-container matColumnDef=\"Alter\">\r\n    <th mat-header-cell *matHeaderCellDef > Alter </th>\r\n    <td mat-cell *matCellDef=\"let element\"> {{element.age}}</td>\r\n  </ng-container>\r\n  <ng-container matColumnDef=\"Geschlecht\">\r\n    <th mat-header-cell *matHeaderCellDef > Geschlecht </th>\r\n    <td mat-cell *matCellDef=\"let element\"> {{element.getGender()}}</td>\r\n  </ng-container>\r\n  <ng-container matColumnDef=\"Einzelanzahl\">\r\n    <th mat-header-cell *matHeaderCellDef > Anzahl </th>\r\n    <td mat-cell *matCellDef=\"let element\"> {{element.amount}}</td>\r\n  </ng-container>\r\n  <ng-container matColumnDef=\"Geburtenrate\" >\r\n    <th mat-header-cell *matHeaderCellDef> Geburtenrate </th>\r\n    <td mat-cell *matCellDef=\"let element\"> {{element.birthrate}}</td>\r\n  </ng-container>\r\n\r\n\r\n  <tr mat-header-row *matHeaderRowDef=\"displayedColumnsPerGroup\"></tr>\r\n  <tr mat-row *matRowDef=\"let row; columns: displayedColumnsPerGroup;\"></tr>\r\n\r\n</table>\r\n");

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __exportStar(m, exports) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}


/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _graph_graph_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./graph/graph.component */ "./src/app/graph/graph.component.ts");
/* harmony import */ var _tab_example_tab_example_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tab-example/tab-example.component */ "./src/app/tab-example/tab-example.component.ts");
/* harmony import */ var _page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./page-not-found/page-not-found.component */ "./src/app/page-not-found/page-not-found.component.ts");
/* harmony import */ var _table_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./table/table.component */ "./src/app/table/table.component.ts");
/* harmony import */ var _show_data_show_data_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./show-data/show-data.component */ "./src/app/show-data/show-data.component.ts");
/* harmony import */ var _piechart_piechart_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./piechart/piechart.component */ "./src/app/piechart/piechart.component.ts");









const routes = [
    { path: 'graph', component: _graph_graph_component__WEBPACK_IMPORTED_MODULE_3__["GraphComponent"] },
    { path: 'tab', component: _tab_example_tab_example_component__WEBPACK_IMPORTED_MODULE_4__["TabExampleComponent"] },
    { path: '', redirectTo: '/tab', pathMatch: 'full' },
    { path: 'table', component: _table_table_component__WEBPACK_IMPORTED_MODULE_6__["TableComponent"] },
    { path: 'view', component: _show_data_show_data_component__WEBPACK_IMPORTED_MODULE_7__["ShowDataComponent"] },
    // Test PFade
    { path: 'pie', component: _piechart_piechart_component__WEBPACK_IMPORTED_MODULE_8__["PiechartComponent"] },
    { path: '**', component: _page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_5__["PageNotFoundComponent"] },
];
let AppRoutingModule = class AppRoutingModule {
};
AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
    })
], AppRoutingModule);



/***/ }),

/***/ "./src/app/app.component.scss":
/*!************************************!*\
  !*** ./src/app/app.component.scss ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let AppComponent = class AppComponent {
    constructor() {
        this.title = 'demographicWebsite';
        this.navbarOpen = false;
    }
    toggleNavbar() {
        this.navbarOpen = !this.navbarOpen;
    }
};
AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-root',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./app.component.scss */ "./src/app/app.component.scss")).default]
    })
], AppComponent);



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _tab_example_tab_example_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tab-example/tab-example.component */ "./src/app/tab-example/tab-example.component.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm2015/material.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _graph_graph_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./graph/graph.component */ "./src/app/graph/graph.component.ts");
/* harmony import */ var _messagebox_messagebox_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./messagebox/messagebox.component */ "./src/app/messagebox/messagebox.component.ts");
/* harmony import */ var _page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./page-not-found/page-not-found.component */ "./src/app/page-not-found/page-not-found.component.ts");
/* harmony import */ var _table_table_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./table/table.component */ "./src/app/table/table.component.ts");
/* harmony import */ var _stackbar_stackbar_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./stackbar/stackbar.component */ "./src/app/stackbar/stackbar.component.ts");
/* harmony import */ var _show_data_show_data_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./show-data/show-data.component */ "./src/app/show-data/show-data.component.ts");
/* harmony import */ var _pyramid_pyramid_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./pyramid/pyramid.component */ "./src/app/pyramid/pyramid.component.ts");
/* harmony import */ var _piechart_piechart_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./piechart/piechart.component */ "./src/app/piechart/piechart.component.ts");
/* harmony import */ var _angular_material_slider__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/slider */ "./node_modules/@angular/material/esm2015/slider.js");


















let AppModule = class AppModule {
};
AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
        declarations: [
            _app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"],
            _tab_example_tab_example_component__WEBPACK_IMPORTED_MODULE_5__["TabExampleComponent"],
            _graph_graph_component__WEBPACK_IMPORTED_MODULE_9__["GraphComponent"],
            _messagebox_messagebox_component__WEBPACK_IMPORTED_MODULE_10__["MessageboxComponent"],
            _page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_11__["PageNotFoundComponent"],
            _table_table_component__WEBPACK_IMPORTED_MODULE_12__["TableComponent"],
            _stackbar_stackbar_component__WEBPACK_IMPORTED_MODULE_13__["StackbarComponent"],
            _show_data_show_data_component__WEBPACK_IMPORTED_MODULE_14__["ShowDataComponent"],
            _pyramid_pyramid_component__WEBPACK_IMPORTED_MODULE_15__["PyramidComponent"],
            _piechart_piechart_component__WEBPACK_IMPORTED_MODULE_16__["PiechartComponent"]
        ],
        imports: [
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
            _app_routing_module__WEBPACK_IMPORTED_MODULE_3__["AppRoutingModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__["BrowserAnimationsModule"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatTabsModule"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatFormFieldModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_8__["ReactiveFormsModule"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatCheckboxModule"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatButtonModule"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatInputModule"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatMenuModule"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatTableModule"],
            _angular_material__WEBPACK_IMPORTED_MODULE_7__["MatSortModule"],
            _angular_material_slider__WEBPACK_IMPORTED_MODULE_17__["MatSliderModule"]
        ],
        providers: [],
        bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]]
    })
], AppModule);



/***/ }),

/***/ "./src/app/chart.service.ts":
/*!**********************************!*\
  !*** ./src/app/chart.service.ts ***!
  \**********************************/
/*! exports provided: ChartService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartService", function() { return ChartService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3 */ "./node_modules/d3/index.js");



let ChartService = class ChartService {
    constructor(data, scale, width, height, svg, saveButton, editable = true, changeScaling = true) {
        this.connectedGraph = null;
        this.points = [];
        this.lines = [];
        this.dirty = false;
        this.margin = { top: 20, right: 20, bottom: 30, left: 40 };
        this.yGraph = undefined;
        this.saveButton = saveButton;
        this.editable = editable;
        this.width = width - this.margin.left - this.margin.right;
        this.height = height - this.margin.top - this.margin.bottom;
        this.mod = Math.round((this.width) / scale[scale.length - 1]);
        this.changeScaling = changeScaling;
        // lets svg objects be moved to the front. This is needed so I can add lines and can place the dots above them again
        d3__WEBPACK_IMPORTED_MODULE_2__["selection"].prototype.moveToFront = function () {
            return this.each(function () {
                this.parentNode.appendChild(this);
            });
        };
        // Create the SVG
        const t = this;
        this.svg = svg
            .attr('width', this.width + this.margin.left + this.margin.right)
            .attr('height', this.height + this.margin.top + this.margin.left)
            .on('click', function () {
            // Ignore the click event if it was suppressed
            if (d3__WEBPACK_IMPORTED_MODULE_2__["event"].defaultPrevented) {
                return;
            }
            // Extract the click location\
            const point = d3__WEBPACK_IMPORTED_MODULE_2__["mouse"](this), p = { x: point[0], y: point[1] };
            let x = t.getModValue(p.x - t.margin.left) + t.margin.left;
            t.clickGraph(x, p.y);
            t.dirty = true;
            t.saveButton.style.visibility = 'visible';
        });
        var xscale = d3__WEBPACK_IMPORTED_MODULE_2__["scaleLinear"]()
            .domain([0, d3__WEBPACK_IMPORTED_MODULE_2__["max"](scale)])
            .range([0, this.width - this.mod]);
        var x_axis = d3__WEBPACK_IMPORTED_MODULE_2__["axisBottom"](xscale);
        // Add a background
        this.svg.append('rect')
            .attr("transform", "translate(" + this.margin.left + ", " + this.margin.top + ")")
            .attr('width', this.width - this.mod)
            .attr('height', height - this.margin.top - this.margin.bottom)
            .style('stroke', '#999999')
            .style('fill', '#F6F6F6');
        var xAxisTranslate = height - this.margin.bottom;
        this.svg.append("g")
            .attr("transform", "translate(" + this.margin.left + ", " + xAxisTranslate + ")")
            .call(x_axis);
        var max = (changeScaling) ? d3__WEBPACK_IMPORTED_MODULE_2__["max"](data) : 1;
        if (!editable) {
            svg.on('click', function () {
                // Ignore the click event if it was suppressed
                if (d3__WEBPACK_IMPORTED_MODULE_2__["event"].defaultPrevented) {
                    return;
                }
            });
        }
        this.updateYAxis(data);
        for (var i = 0; i <= 100; i++) {
            if (data[i] != undefined) {
                this.clickGraph(i * this.mod + this.margin.left, this.height - this.height * (data[i] / max) + this.margin.top);
            }
        }
    }
    getDirty() {
        return this.dirty;
    }
    setConnectedGraph(connectedGraph) {
        this.connectedGraph = connectedGraph;
    }
    getSvg() {
        return this.svg;
    }
    getValues() {
        this.calculateNewValues();
        return this.values;
    }
    getUserPoints() {
        var points = [];
        for (var i = 0; i <= 100; i++) {
            if (this.points[i] != undefined) {
                points.push(i);
            }
        }
        return points;
    }
    updateYAxis(data) {
        if (this.yGraph != undefined) {
            this.yGraph.remove();
        }
        var max = 0;
        for (var i = 0; i <= 100; i++) {
            if (data[max] < data[i]) {
                max = i;
            }
        }
        var scaling = 1;
        if (this.points[max] != undefined) {
            scaling = this.height / (this.height - Number(this.points[max].attr('y')) + this.margin.top);
        }
        var yscale = d3__WEBPACK_IMPORTED_MODULE_2__["scaleLinear"]()
            .domain([0, d3__WEBPACK_IMPORTED_MODULE_2__["max"](data) * scaling])
            .range([this.height, 0]);
        var y_axis = d3__WEBPACK_IMPORTED_MODULE_2__["axisLeft"](yscale);
        this.yGraph = this.svg.append("g");
        this.yGraph.attr("transform", "translate(" + this.margin.left + ", " + this.margin.top + ")")
            .call(y_axis);
    }
    remove() {
        this.svg.remove();
    }
    dragGraph(y, point) {
        const id = d3__WEBPACK_IMPORTED_MODULE_2__["select"](point).attr('id');
        let pos = 0;
        while (this.points[pos] == undefined || this.points[pos].attr('id') != id) {
            pos += 1;
        }
        const x = this.points[pos].attr('x');
        this.updatePoint(x, y);
        let i = pos - 1;
        while (this.lines[i] == undefined && i > 0) {
            i--;
        }
        this.updateLine(i, 'x2', x);
        this.updateLine(i, 'y2', y);
        this.updateLine(pos, 'x1', x);
        this.updateLine(pos, 'y1', y);
        this.lines[pos].attr('x1', x);
        this.calculateNewValues();
        this.updateYAxis(this.values);
    }
    updatePoint(x, newY, updateOther = true) {
        let index = (x - this.margin.left) / this.mod;
        this.dirty = true;
        this.saveButton.style.visibility = 'visible';
        if (updateOther && this.connectedGraph != null) {
            this.connectedGraph.updatePoint(x, newY, false);
        }
        this.points[index].attr('transform', 'translate(' + x + ',' + newY + ')');
        this.points[index].attr('y', newY);
    }
    updateLine(i, attr, newValue, updateOther = true) {
        if (i > -1) {
            if (updateOther && this.connectedGraph != null) {
                this.connectedGraph.updateLine(i, attr, newValue, false);
            }
            this.lines[i].attr(attr, newValue);
        }
    }
    removeLine(i, updateOther = true) {
        if (updateOther && this.connectedGraph != null) {
            this.connectedGraph.removeLine(i, false);
        }
        if (this.lines[i] != undefined) {
            this.lines[i].remove();
            this.lines[i] = undefined;
        }
    }
    removePoint(i, updateOther = true) {
        if (updateOther && this.connectedGraph != null) {
            this.connectedGraph.removeLine(i, false);
        }
        if (this.points[i] != undefined) {
            this.points[i].remove();
            this.points[i] = undefined;
        }
    }
    updateGraph(y, point) {
        if (y > this.height + this.margin.top || y < this.margin.top) {
            const id = d3__WEBPACK_IMPORTED_MODULE_2__["select"](point).attr('id');
            let pos = 0;
            while (this.points[pos] == undefined || this.points[pos].attr('id') != id) {
                pos += 1;
            }
            if (pos != 0) {
                let i = pos - 1;
                while (this.lines[i] == undefined && i > 0) {
                    i--;
                }
                this.updateLine(i, "x2", this.lines[pos].attr('x2'));
                this.updateLine(i, "y2", this.lines[pos].attr('y2'));
                this.removeLine(pos);
                this.removePoint(pos);
            }
            else {
                this.lines[pos].attr("x1", this.margin.left);
                this.lines[pos].attr("y1", this.height + this.margin.top);
                this.removePoint(pos);
            }
        }
        this.calculateNewValues();
        this.updateYAxis(this.values);
    }
    calculateNewValues() {
        let last = 0;
        this.values = [];
        for (let i = 0; i <= 100; i++) {
            if (this.points[i] != undefined) {
                let y = this.height - Number(this.points[i].attr('y')) + this.margin.top;
                if (last < i - 1) { //if the last found point is more than 1 difference we have to do some calculations
                    let b = 0; //this is only viable if the index is 0
                    let dx = i;
                    let dy = y;
                    if (i != 0 && this.points[last] != undefined) {
                        dx = i - last;
                        b = this.height - Number(this.points[last].attr('y')) + this.margin.top;
                        dy = y - b;
                    }
                    let a = dy / dx;
                    for (let j = 0; j <= dx; j++) {
                        this.values[last + j] = (a * j) + b;
                    }
                }
                else {
                    this.values[i] = y;
                }
                last = i;
            }
        }
        if (last != 100) {
            let b = 0; //this is only viable if the index is 0
            let dx = 100;
            let dy = 0;
            if (this.points[last] != undefined) {
                dx = 100 - last;
                b = this.height - Number(this.points[last].attr('y')) + this.margin.top;
                dy = 0 - b;
            }
            let a = dy / dx;
            for (let j = 0; j <= dx; j++) {
                this.values[last + j] = (a * j) + b;
            }
        }
        let amount = this.values.reduce(function (total, num) { return total + num; }); //calculate the total amount
        if (amount == 0) {
            this.values.forEach(function (element, index, arr) { arr[index] = 1; });
            amount = this.values.length;
        }
        var relative = 1;
        if (this.changeScaling) {
            relative = 1 / amount;
        }
        else {
            relative = 1 / this.height;
        }
        this.values.forEach(function (element, index, arr) { arr[index] *= relative; });
        // let value = 0;
        // this.values.forEach(element => {
        //   value += element;
        // });
        // value = (1 - value) / 101;
        // for (let i = 0; i < this.values.length; i++) {
        //   this.values[i] += value;
        // }
        // value = 0;
        // this.values.forEach(element => {
        //   value += element;
        // });
        // // console.log(value);
        // // console.log(this.values);
    }
    clickGraph(x, y, updateOther = true) {
        if (x >= this.margin.left && x <= this.margin.left + this.width && y <= this.height + this.margin.top && y >= this.margin.top) {
            let index = (x - this.margin.left) / this.mod;
            if (updateOther && this.connectedGraph != null) {
                this.connectedGraph.clickGraph(x, y, false);
            }
            if (this.points[index] == undefined) {
                if (this.lines.length == 0) {
                    this.lines[0] = this.svg.append('line') // new initial line is added and connected to 0
                        .style('stroke', 'gray') // <<<<< Add a color
                        .attr('x1', this.margin.left)
                        .attr('y1', this.height + this.margin.top)
                        .attr('x2', x)
                        .attr('y2', y);
                }
                else {
                    let i = index;
                    while (this.lines[i] == undefined) {
                        i--;
                    }
                    this.lines[i].attr('x2', x)
                        .attr('y2', y);
                }
                if (this.lines.length < index) {
                    this.lines[index] = this.svg.append('line')
                        .style('stroke', 'gray') // <<<<< Add a color
                        .attr('x1', x)
                        .attr('y1', y)
                        .attr('x2', this.width + this.margin.left - this.mod)
                        .attr('y2', this.height + this.margin.top);
                }
                else {
                    let i = index + 1;
                    while (this.points[i] == undefined && i <= this.lines.length) {
                        i++;
                    }
                    let x2 = this.width + this.margin.left - this.mod;
                    let y2 = this.height + this.margin.top;
                    if (this.points[i] != undefined) {
                        x2 = this.points[i].attr('x');
                        y2 = this.points[i].attr('y');
                    }
                    this.lines[index] = this.svg.append('line')
                        .style('stroke', 'gray') // <<<<< Add a color
                        .attr('x1', x)
                        .attr('y1', y)
                        .attr('x2', x2)
                        .attr('y2', y2);
                    //this.points[i].moveToFront();
                }
                const chart = this;
                // Append a new point
                var tooltip = d3__WEBPACK_IMPORTED_MODULE_2__["select"]("body")
                    .append("div")
                    .style("position", "absolute")
                    .style("z-index", "10")
                    .style("visibility", "hidden");
                this.points[index] = this.svg.append('circle')
                    .attr('transform', 'translate(' + x + ',' + y + ')')
                    .attr('r', '5')
                    .attr('id', (Math.random().toString(16) + '000000000').substr(2, 8))
                    .attr('y', y)
                    .attr('x', x)
                    .attr('class', 'dot')
                    .style('cursor', 'pointer')
                    .attr('fill', 'steelblue')
                    .on("mouseover", function () {
                    tooltip.style("visibility", "visible");
                    tooltip.text((Math.round(chart.values[index] * 10000) / 10000).toString());
                    tooltip.style("top", (d3__WEBPACK_IMPORTED_MODULE_2__["event"].y - 10) + "px").style("left", (d3__WEBPACK_IMPORTED_MODULE_2__["event"].x + 10) + "px");
                })
                    .on("mousemove", function () {
                    tooltip.style("top", (d3__WEBPACK_IMPORTED_MODULE_2__["event"].y - 10) + "px").style("left", (d3__WEBPACK_IMPORTED_MODULE_2__["event"].x + 10) + "px");
                })
                    .on("mouseout", function () {
                    tooltip.style("visibility", "hidden");
                });
                if (this.editable) {
                    this.points[index].call(d3__WEBPACK_IMPORTED_MODULE_2__["drag"]().on('start', function () {
                        d3__WEBPACK_IMPORTED_MODULE_2__["select"](this).attr('fill', 'orange');
                    })
                        .on('drag', function () {
                        const y = d3__WEBPACK_IMPORTED_MODULE_2__["event"].y;
                        tooltip.style("visibility", "visible");
                        tooltip.text((Math.round(chart.values[index] * 10000) / 10000).toString());
                        tooltip.style("top", (chart.height - chart.margin.top - chart.margin.bottom + d3__WEBPACK_IMPORTED_MODULE_2__["event"].y - 35) + "px").style("left", (d3__WEBPACK_IMPORTED_MODULE_2__["event"].pageX + 10) + "px");
                        chart.dragGraph(y, this);
                    })
                        .on('end', function () {
                        const thisElement = d3__WEBPACK_IMPORTED_MODULE_2__["select"](this);
                        thisElement.attr('fill', 'steelblue');
                        const x = Number(thisElement.attr('x'));
                        const y = Number(thisElement.attr('y'));
                        tooltip.style("visibility", "hidden");
                        chart.updateGraph(y, this);
                    }));
                }
            }
            else {
                this.points[index].attr('transform', 'translate(' + x + ',' + y + ')');
                const pos = index;
                let i = pos - 1;
                while (this.lines[i] == undefined && i > -1) {
                    i--;
                }
                this.lines[i].attr('x2', x)
                    .attr('y2', y);
                this.lines[pos].attr('x1', x)
                    .attr('y1', y);
            }
            this.calculateNewValues();
            this.updateYAxis(this.values);
        }
    }
    getModValue(x) {
        if ((x % this.mod) > Math.round(this.mod / 2)) {
            x += this.mod;
        }
        return x - (x % this.mod);
    }
};
ChartService.ctorParameters = () => [
    { type: Array },
    { type: Array },
    { type: Number },
    { type: Number },
    null,
    { type: HTMLButtonElement },
    null,
    null
];
ChartService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], ChartService);



/***/ }),

/***/ "./src/app/class/gender.ts":
/*!*********************************!*\
  !*** ./src/app/class/gender.ts ***!
  \*********************************/
/*! exports provided: generatedType, Gender */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generatedType", function() { return generatedType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Gender", function() { return Gender; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var generatedType;
(function (generatedType) {
    generatedType[generatedType["surviverate"] = 0] = "surviverate";
    generatedType[generatedType["emigrationsrate"] = 1] = "emigrationsrate";
    generatedType[generatedType["immigrationsrate"] = 2] = "immigrationsrate";
    generatedType[generatedType["birthrate"] = 3] = "birthrate";
    generatedType[generatedType["amount"] = 4] = "amount";
    generatedType[generatedType["reunification"] = 5] = "reunification";
})(generatedType || (generatedType = {}));
class Gender {
    constructor(age, surviverate = 0, migrationrate = 0, birthrate = 0, amount = 0, male = true, immigration = 0, reunification = 0, generated = false, type = -1) {
        this._age = age;
        this._surviverate = surviverate;
        this._emigrationsrate = migrationrate;
        this._birthrate = birthrate;
        this._amount = amount;
        this._male = male;
        this._immigration = immigration;
        this._reunification = reunification;
        this._amount_reunification = 0;
        this._surviverate_generated = true;
        this._emigrationsrate_generated = true;
        this._birthrate_generated = true;
        this._reunification_generated = true;
        this._amount_generated = true;
        this._immigration_generated = true;
        this._birthrate_flag = true;
        this._surviverate_flag = true;
        this._emigration_flag = true;
        this._immigration_flag = true;
        this._reunification_flag = true;
        this._birthrate_flag = true;
        this._amount_flag = true;
    }
    /*
    Getter & Setter
     */
    get amount_reunification() {
        return this._amount_reunification;
    }
    set amount_reunification(value) {
        this._amount_reunification = value;
    }
    get age() {
        return this._age;
    }
    set age(value) {
        this._age = value;
    }
    get surviverate() {
        return this._surviverate;
    }
    set surviverate(value) {
        this._surviverate = value;
    }
    get emigrationsrate() {
        return this._emigrationsrate;
    }
    set emigrationsrate(value) {
        this._emigrationsrate = value;
    }
    get immigration() {
        return this._immigration;
    }
    set immigration(value) {
        this._immigration = value;
    }
    get birthrate() {
        return this._birthrate;
    }
    set birthrate(value) {
        this._birthrate = value;
    }
    get amount() {
        return this._amount;
    }
    set amount(value) {
        this._amount = value;
    }
    get male() {
        return this._male;
    }
    set male(value) {
        this._male = value;
    }
    get reunification() {
        return this._reunification;
    }
    set reunification(value) {
        this._reunification = value;
    }
    get surviverate_generated() {
        return this._surviverate_generated;
    }
    set surviverate_generated(value) {
        this._surviverate_generated = value;
    }
    get emigrationsrate_generated() {
        return this._emigrationsrate_generated;
    }
    set emigrationsrate_generated(value) {
        this._emigrationsrate_generated = value;
    }
    get immigration_generated() {
        return this._immigration_generated;
    }
    set immigration_generated(value) {
        this._immigration_generated = value;
    }
    get birthrate_generated() {
        return this._birthrate_generated;
    }
    set birthrate_generated(value) {
        this._birthrate_generated = value;
    }
    get amount_generated() {
        return this._amount_generated;
    }
    set amount_generated(value) {
        this._amount_generated = value;
    }
    get reunification_generated() {
        return this._reunification_generated;
    }
    set reunification_generated(value) {
        this._reunification_generated = value;
    }
    get surviverate_flag() {
        return this._surviverate_flag;
    }
    set surviverate_flag(value) {
        this._surviverate_flag = value;
    }
    get emigration_flag() {
        return this._emigration_flag;
    }
    set emigration_flag(value) {
        this._emigration_flag = value;
    }
    get immigration_flag() {
        return this._immigration_flag;
    }
    set immigration_flag(value) {
        this._immigration_flag = value;
    }
    get reunification_flag() {
        return this._reunification_flag;
    }
    set reunification_flag(value) {
        this._reunification_flag = value;
    }
    get birthrate_flag() {
        return this._birthrate_flag;
    }
    set birthrate_flag(value) {
        this._birthrate_flag = value;
    }
    get amount_flag() {
        return this._amount_flag;
    }
    set amount_flag(value) {
        this._amount_flag = value;
    }
    getGender() {
        return this._male ? 'Männlich' : 'Weiblich';
    }
    setallFlags(flag = true) {
        this.reunification_flag = flag;
        this.immigration_flag = flag;
        this.birthrate_flag = flag;
        this.emigration_flag = flag;
        this.surviverate_flag = flag;
        this.amount_flag = flag;
    }
}


/***/ }),

/***/ "./src/app/class/native-type.ts":
/*!**************************************!*\
  !*** ./src/app/class/native-type.ts ***!
  \**************************************/
/*! exports provided: NativeType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NativeType", function() { return NativeType; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var NativeType;
(function (NativeType) {
    NativeType["EinheimischeNichtMuslime"] = "Einheimische Nicht Muslime";
    NativeType["EinheimischeMuslime"] = "Einheimische Muslime";
    NativeType["MuslimischeEinwanderer"] = "Muslimische Einwanderer";
    NativeType["NichtMuslimischeEinwanderer"] = "Nicht Muslimische Einwanderer";
})(NativeType || (NativeType = {}));
/*export class NativeType {

  private _name: string;
  private _native: boolean;


  // todo: überlegen ob wir das brauchen

  constructor(name: string, native = false) {
    this._name = name;
    this._native = native;
  }

 Getter & setter
  get name(): string {
    return this._name;
  }

  set name(value: string) {
    this._name = value;
  }

  get native(): boolean {
    return this._native;
  }

  set native(value: boolean) {
    this._native = value;
  }
}
*/


/***/ }),

/***/ "./src/app/class/population.ts":
/*!*************************************!*\
  !*** ./src/app/class/population.ts ***!
  \*************************************/
/*! exports provided: Population */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Population", function() { return Population; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class Population {
    get amountmale() {
        return this._amountmale;
    }
    get amountfemale() {
        return this._amountfemale;
    }
    // fertility in female gespeichert
    constructor(year, type, immigration = 0) {
        this._year = year;
        this._type = type;
        this._male = [];
        this._female = [];
        this._amount = 0;
        this._amountfemale = 0;
        this._amountmale = 0;
        this._immigration = immigration;
        this._immigration_female = 0;
        this._immigration_male = 0;
        this._birth_amount = 1;
    }
    pushFemale(female) {
        this._female.push(female);
        this._amountfemale += female.amount;
    }
    pushMale(male) {
        this._male.push(male);
        this._amountmale += male.amount;
    }
    calculateAmount() {
        let amount = 0;
        for (const m of this.male) {
            amount += m.amount;
        }
        this._amountmale = amount;
        amount = 0;
        for (const f of this.female) {
            amount += f.amount;
        }
        this._amountfemale = amount;
        this._amount = this._amountmale + this._amountfemale;
    }
    /*
    Getter & Setter
     */
    get year() {
        return this._year;
    }
    set year(value) {
        this._year = value;
    }
    get type() {
        return this._type;
    }
    get immigration_female() {
        return this._immigration_female;
    }
    set immigration_female(value) {
        this._immigration_female = value;
    }
    get immigration_male() {
        return this._immigration_male;
    }
    set immigration_male(value) {
        this._immigration_male = value;
    }
    set type(value) {
        this._type = value;
    }
    get amount() {
        return this._amount;
    }
    set amount(value) {
        this._amount = value;
    }
    get male() {
        return this._male;
    }
    set male(value) {
        this._male = value;
    }
    get female() {
        return this._female;
    }
    set female(value) {
        this._female = value;
    }
    get immigration() {
        return this._immigration;
    }
    set immigration(value) {
        this._immigration = value;
    }
    get birth_amount() {
        return this._birth_amount;
    }
    set birth_amount(value) {
        this._birth_amount = value;
    }
}


/***/ }),

/***/ "./src/app/class/year.ts":
/*!*******************************!*\
  !*** ./src/app/class/year.ts ***!
  \*******************************/
/*! exports provided: Year */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Year", function() { return Year; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class Year {
    // ToDO: Give it an Amount here to generate the Scales variable for the input Data
    constructor(year) {
        this.year = year;
        this.population = [];
    }
    getPopulation(nativeType) {
        for (const x of this.population) {
            if (x.type === nativeType) {
                return x;
            }
        }
        return null;
    }
}


/***/ }),

/***/ "./src/app/data.service.ts":
/*!*********************************!*\
  !*** ./src/app/data.service.ts ***!
  \*********************************/
/*! exports provided: Type, DataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Type", function() { return Type; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataService", function() { return DataService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _class_population__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./class/population */ "./src/app/class/population.ts");
/* harmony import */ var _class_native_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./class/native-type */ "./src/app/class/native-type.ts");
/* harmony import */ var _class_gender__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./class/gender */ "./src/app/class/gender.ts");
/* harmony import */ var _class_year__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./class/year */ "./src/app/class/year.ts");
/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! util */ "./node_modules/util/util.js");
/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_6__);
var DataService_1;







var Type;
(function (Type) {
    Type[Type["FERTILITY"] = 0] = "FERTILITY";
    Type[Type["IMMIGRATION"] = 1] = "IMMIGRATION";
    Type[Type["MORTALITY"] = 2] = "MORTALITY";
    Type[Type["GENDER_DISTRIBUTION"] = 3] = "GENDER_DISTRIBUTION";
    Type[Type["SUBSEQUENT_IMMIGRATION"] = 4] = "SUBSEQUENT_IMMIGRATION";
})(Type || (Type = {}));
let DataService = DataService_1 = class DataService {
    constructor() {
        // todo Standard Werte
        this.probability_male = 0.5;
        this.amount_nativenonmuslim = 8 * 10000000;
        this.amount_nativemuslim = 2 * 10000000;
        this.amount_nonmuslim = 5 * 100000;
        this.amount_nmuslim = 5 * 1000000;
        this.reunificationYears = 3;
        this.startYear = 2020;
        this.endYear = 2100;
        console.log('Data Service Hook');
        this.generateEmptyYears();
        this.fillArraysEmpty();
        this.fillStartPopulation();
        // this.fillRandomYearwithDummyData();
        this.calculatePopulation(2021);
        // this.calculatePopulation();
    }
    /*
    Statics
     */
    static getRandomInt(max) {
        return Math.floor(Math.random() * Math.floor(max));
    }
    static getColors() {
        return ['#b32020', '#f2b448', '#e0aaa1', '#e22011'];
        // visibility [ '#E0EEA1', '#B222a0', '#FFBBFF' ];
    }
    fillStartPopulation(year = 2020) {
        const nativemuslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](2020, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].EinheimischeMuslime);
        const nativenonmuslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](2020, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].EinheimischeNichtMuslime);
        const muslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](2020, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].MuslimischeEinwanderer);
        const nonmuslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](2020, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].NichtMuslimischeEinwanderer);
        for (let i = 0; i <= 100; i++) {
            // (age: number, surviverate: number, migrationrate: number, birthrate: number, amount: number, male: boolean, immigration = 0,
            //               reunification = 0) {
            const surviverate = (i == 100 ? 0 : 1 - i / 1000); // 1 - i/100;
            let birthrate = 0;
            if (i <= 35 && i >= 18) {
                birthrate = 0.15;
            }
            const amountMale = (this.amount_nativenonmuslim / 2) / 101;
            const amountFemale = (this.amount_nativenonmuslim / 2) / 101;
            const male = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, 0, amountMale, true, 0, 0, (i % 10 != 0));
            const female = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, birthrate, amountMale, true, 0, 0, (i % 10 != 0));
            nativenonmuslim.pushMale(male);
            nativenonmuslim.pushFemale(female);
            nativenonmuslim.amount += amountFemale + amountMale;
            ///// zusätzliches
            const nmMale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, 0, this.amount_nativemuslim / 202, true, 0, 0, (i % 10 == 0 ? false : true));
            const nmFemale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, birthrate * 2, this.amount_nativemuslim / 202, false, 0, 0, (i % 10 == 0 ? false : true));
            const nnmMale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, 0, this.amount_nmuslim / 202, true, 0, 0, (i % 10 == 0 ? false : true));
            const nnmFemale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, birthrate * 3, this.amount_nmuslim / 202, false, 0, 0, (i % 10 == 0 ? false : true));
            const nMale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, 0, this.amount_nonmuslim / 202, true, 0, 0, (i % 10 == 0 ? false : true));
            const nFemale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, birthrate, this.amount_nonmuslim / 202, false, 0, 0, (i % 10 == 0 ? false : true));
            if (i == 0 || i >= 99) {
                male.surviverate_generated = false;
                female.surviverate_generated = false;
                nmMale.surviverate_generated = false;
                nmFemale.surviverate_generated = false;
                nnmMale.surviverate_generated = false;
                nnmFemale.surviverate_generated = false;
                nMale.surviverate_generated = false;
                nFemale.surviverate_generated = false;
            }
            if (i == 17 || i == 18 || i == 35 || i == 36) {
                female.birthrate_generated = false;
                nmFemale.birthrate_generated = false;
                nnmFemale.birthrate_generated = false;
                nFemale.birthrate_generated = false;
            }
            if (i == 0 || i == 100) {
                female.amount_generated = false;
                male.amount_generated = false;
                nmMale.amount_generated = false;
                nmFemale.amount_generated = false;
                nnmMale.amount_generated = false;
                nnmFemale.amount_generated = false;
                nMale.amount_generated = false;
                nFemale.amount_generated = false;
            }
            muslim.pushFemale(nnmFemale);
            muslim.pushMale(nnmMale);
            nativemuslim.pushFemale(nmFemale);
            nativemuslim.pushMale(nmMale);
            muslim.amount += nnmFemale.amount + nnmMale.amount;
            nativemuslim.amount += nmFemale.amount + nmMale.amount;
            nonmuslim.pushMale(nMale);
            nonmuslim.pushFemale(nFemale);
            nonmuslim.amount += nFemale.amount + nMale.amount;
            this.years[0].population = [];
            this.years[0].population.push(nativemuslim);
            this.years[0].population.push(nativenonmuslim);
            this.years[0].population.push(muslim);
            this.years[0].population.push(nonmuslim);
        }
    }
    fillRandomYearwithDummyData() {
        const year = this.startYear + DataService_1.getRandomInt(80);
        // const year = this.startYear + 50;
        const nativemuslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](year, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].EinheimischeMuslime);
        const nativenonmuslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](year, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].EinheimischeNichtMuslime);
        const muslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](year, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].MuslimischeEinwanderer);
        const nonmuslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](year, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].NichtMuslimischeEinwanderer);
        for (let i = 0; i <= 100; i++) {
            // (age: number, surviverate: number, migrationrate: number, birthrate: number, amount: number, male: boolean, immigration = 0,
            //               reunification = 0) {
            const surviverate = (i == 100 ? 0 : 1 - i / 1000); // 1 - i/100;
            let birthrate = 0;
            if (i <= 35 && i >= 18) {
                birthrate = 0.15;
            }
            const amountMale = 300000;
            const amountFemale = 300000;
            const male = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, 0, amountMale, true, 0, 0, (i % 10 != 0));
            const female = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, birthrate, amountMale, true, 0, 0, (i % 10 != 0));
            nativenonmuslim.pushMale(male);
            nativenonmuslim.pushFemale(female);
            nativenonmuslim.amount += amountFemale + amountMale;
            ///// zusätzliches
            const nmMale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, 0, 300000, true, 0, 0, (i % 10 == 0 ? false : true));
            const nmFemale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, birthrate * 2, 300000, false, 0, 0, (i % 10 == 0 ? false : true));
            const nnmMale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, 0, 300000, true, 0, 0, (i % 10 == 0 ? false : true));
            const nnmFemale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, birthrate * 3, 300000, false, 0, 0, (i % 10 == 0 ? false : true));
            const nMale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, 0, 300000, true, 0, 0, (i % 10 == 0 ? false : true));
            const nFemale = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, surviverate, 0, birthrate, 300000, false, 0, 0, (i % 10 == 0 ? false : true));
            if (i == 0 || i >= 99) {
                male.surviverate_generated = false;
                female.surviverate_generated = false;
                nmMale.surviverate_generated = false;
                nmFemale.surviverate_generated = false;
                nnmMale.surviverate_generated = false;
                nnmFemale.surviverate_generated = false;
                nMale.surviverate_generated = false;
                nFemale.surviverate_generated = false;
            }
            male.setallFlags(false);
            female.setallFlags(false);
            nMale.setallFlags(false);
            nmMale.setallFlags(false);
            nnmMale.setallFlags(false);
            nFemale.setallFlags(false);
            nmFemale.setallFlags(false);
            nnmFemale.setallFlags(false);
            muslim.pushFemale(nnmFemale);
            muslim.pushMale(nnmMale);
            nativemuslim.pushFemale(nmFemale);
            nativemuslim.pushMale(nmMale);
            muslim.amount += nnmFemale.amount + nnmMale.amount;
            nativemuslim.amount += nmFemale.amount + nmMale.amount;
            nonmuslim.pushMale(nMale);
            nonmuslim.pushFemale(nFemale);
            nonmuslim.amount += nFemale.amount + nMale.amount;
            muslim.birth_amount = 2.8;
            nativemuslim.birth_amount = 2.4;
            nonmuslim.birth_amount = 1.8;
            nativenonmuslim.birth_amount = 1.4;
            this.years[year - this.startYear].population = [];
            this.years[year - this.startYear].population.push(nativemuslim);
            this.years[year - this.startYear].population.push(nativenonmuslim);
            this.years[year - this.startYear].population.push(muslim);
            this.years[year - this.startYear].population.push(nonmuslim);
        }
    }
    fillArraysEmpty() {
        let nativemuslim;
        let nativenonmuslim;
        let muslim;
        let nonmuslim;
        for (let y = this.startYear; y <= this.endYear; y++) {
            /*nativemuslim = new Population(y, new NativeType('Einheimische Muslime', true));
            nativenonmuslim = new Population(y, new NativeType('Einheimische Nicht Muslime', true));
            muslim = new Population(y, new NativeType('Muslimische Einwanderer'));
            muslim = new Population(y, new NativeType('Muslimische Einwanderer'));
            nonmuslim = new Population(y, new NativeType('Nicht Muslimische Einwanderer'));*/
            nativemuslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](y, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].EinheimischeMuslime);
            nativenonmuslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](y, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].EinheimischeNichtMuslime);
            muslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](y, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].MuslimischeEinwanderer);
            nonmuslim = new _class_population__WEBPACK_IMPORTED_MODULE_2__["Population"](y, _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].NichtMuslimischeEinwanderer);
            // console.log(muslim);
            for (let i = 0; i <= 100; i++) {
                // (age: number, surviverate: number, migrationrate: number, birthrate: number, amount: number, male: boolean, immigration = 0,
                //               reunification = 0) {
                const male = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, 0, 0, 0, -1, true, 0, 0);
                const female = new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, 0, 0, 0, -1, false, 0, 0);
                nativenonmuslim.pushMale(male);
                nativenonmuslim.pushFemale(female);
                ///// zusätzliches
                muslim.pushFemale(new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, 0, 0, 0, -1, true, 0, .01));
                muslim.pushMale(new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, 0, 0, 0, -1, true, 0, .01));
                nativemuslim.pushFemale(new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, 0, 0, 0, -1, true, 0, .01));
                nativemuslim.pushMale(new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, 0, 0, 0, -1, true, 0, .01));
                nonmuslim.pushMale(new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, 0, 0, 0, -1, true, 0, .01));
                nonmuslim.pushFemale(new _class_gender__WEBPACK_IMPORTED_MODULE_4__["Gender"](i, 0, 0, 0, -1, true, 0, .01));
            }
            this.years[y - this.startYear].population = [];
            this.years[y - this.startYear].population.push(nativemuslim);
            this.years[y - this.startYear].population.push(nativenonmuslim);
            this.years[y - this.startYear].population.push(muslim);
            this.years[y - this.startYear].population.push(nonmuslim);
        }
    }
    saveGraphInput(values, nativeType, year) {
        // ToDO : Rausfinden ob die population schon vorhanden ist und dann die Values in den jeweiligen Alters Verteilung speichern oder erstellen
    }
    // Berechnungen //
    calculatePopulation(year = 2021) {
        // Generate Population ; Startwerten und alles andere ist leer
        // Über Jahre Laufen : uznd Population anfangen
        // TODO : Fehlerquelle mit unterlaufen
        const yearstoslice = year - this.startYear;
        let beforeYear = this.years[yearstoslice - 1];
        for (const yearObj of this.years.slice(yearstoslice)) {
            let reunificationYear = null;
            if (this.endYear - yearObj.year >= this.reunificationYears) {
                // reunificationYear
                reunificationYear = this.years[(yearObj.year + this.reunificationYears) - this.startYear];
            }
            this.nextYear(yearObj, beforeYear, reunificationYear);
            beforeYear = yearObj;
            //   console.log(yearObj, beforeYear, reunificationYear);
        }
    }
    nextYear(year, beforeYear, reunificationYear) {
        /*
        Für jede Population berechne AMount aus Vorjahr , dann Werte einzeln holen aus den Jahren vorher ,
        ausser ist gesetzt in Pop , dann hol es da her
         */
        for (let popIterator = 0; popIterator < beforeYear.population.length; popIterator++) {
            /*
              Überleben berechnen
              Newborns
              Wenn Immigration dann immigration
              wenn nachzug, dann nahzug
             */
            // Nur ienen iterator da  Frau und mann symmetrisch in der länge
            let newbornsFemale = 0;
            let newbornsMale = 0;
            for (let ageIterator = 1; ageIterator < beforeYear.population[popIterator].male.length; ageIterator++) {
                const beforeYearPopMale = beforeYear.population[popIterator].male[ageIterator - 1];
                const beforeYearPopFemale = beforeYear.population[popIterator].female[ageIterator - 1];
                // Grundmenge
                let amountMale = beforeYearPopMale.amount * beforeYearPopMale.surviverate;
                let amountFemale = beforeYearPopFemale.amount * beforeYearPopFemale.surviverate;
                /*//EmMigration abziehen
                let migrationM = beforeYearPopMale.amount * beforeYearPopMale.migration;
        
                amountMale -= migrationM;
                */
                // nachzug drauf rechnen
                // TODO : FRAGE an Klaus und Behnud wie sie es gerne hätten, prozentual der aktuellen bevölkerung oder  X jahre später??
                // Wo speichern wir das ???
                // migration drauf rechnen
                //   const immigrationM = beforeYear.population[popIterator].immigration * beforeYearPopMale.immigration;
                // const immigrationF = beforeYear.population[popIterator].immigration * beforeYearPopFemale.immigration;
                amountMale += beforeYearPopMale.immigration;
                amountFemale += beforeYearPopFemale.immigration;
                const birth = beforeYear.population[popIterator].birth_amount * beforeYearPopFemale.amount * beforeYearPopFemale.birthrate;
                newbornsFemale += birth * (1 - this.probability_male);
                newbornsMale += birth * (this.probability_male);
                /*
               // emigration abziehen
               amountMale -= beforeYearPopMale.amount * beforeYearPopMale.migration;
               amountFemale -= beforeYearPopFemale.amount * beforeYearPopFemale.migration;
               */
                /*
                  HOle die Daten die schon da sind . Sonst im nächsten Jahr eintragen (+1 alle rates)
                */
                this.setGenderArray(year.population[popIterator].female[ageIterator], beforeYear.population[popIterator].female[ageIterator], year.population[popIterator], amountFemale);
                this.setGenderArray(year.population[popIterator].male[ageIterator], beforeYear.population[popIterator].male[ageIterator], year.population[popIterator], amountMale);
                if (!Object(util__WEBPACK_IMPORTED_MODULE_6__["isNullOrUndefined"])(reunificationYear)) { // wenn es gesetzt ist
                    reunificationYear.population[popIterator].female[ageIterator].amount_reunification =
                        amountFemale * year.population[popIterator].female[ageIterator].reunification;
                    reunificationYear.population[popIterator].male[ageIterator].amount_reunification =
                        amountMale * year.population[popIterator].male[ageIterator].reunification;
                }
            }
            this.setGenderArray(year.population[popIterator].male[0], beforeYear.population[popIterator].male[0], year.population[popIterator], newbornsMale);
            this.setGenderArray(year.population[popIterator].female[0], beforeYear.population[popIterator].female[0], year.population[popIterator], newbornsFemale);
            if (!Object(util__WEBPACK_IMPORTED_MODULE_6__["isNullOrUndefined"])(reunificationYear)) { // wenn es gesetzt ist
                reunificationYear.population[popIterator].female[0].amount_reunification =
                    newbornsFemale * year.population[popIterator].female[0].reunification;
                reunificationYear.population[popIterator].male[0].amount_reunification =
                    newbornsMale * year.population[popIterator].male[0].reunification;
            }
            // Immigration zusammenrechnen auf Populationsebene
            year.population[popIterator].immigration = year.population[popIterator].immigration_male + year.population[popIterator].immigration_female;
            //birthamount übernehmen wenn flag
            // TODO: Flag ???
            year.population[popIterator].birth_amount = beforeYear.population[popIterator].birth_amount;
            //     console.log(this.years);
        }
    }
    setGenderArray(genderYear, genderBeforeYear, referencepopulation, newAmount) {
        if (genderYear.amount_flag) {
            genderYear.amount = newAmount + genderYear.amount_reunification;
            if (referencepopulation.amount <= 0 || genderYear.age == 1) { /// im ersten jAhr
                referencepopulation.amount = genderYear.amount;
            }
            else {
                referencepopulation.amount += genderYear.amount;
            }
        }
        if (genderYear.surviverate_flag) {
            genderYear.surviverate = genderBeforeYear.surviverate;
            genderYear.surviverate_generated = genderBeforeYear.surviverate_generated;
        }
        if (genderYear.emigration_flag) {
            genderYear.emigrationsrate = genderBeforeYear.emigrationsrate;
            genderYear.emigrationsrate_generated = genderBeforeYear.emigrationsrate_generated;
        }
        if (genderYear.birthrate_flag) {
            genderYear.birthrate = genderBeforeYear.birthrate;
            genderYear.birthrate_generated = genderBeforeYear.birthrate_generated;
        }
        if (genderYear.immigration_flag) {
            // ToDO : POopuilationsarray , nochmal die immigration überprüfen (siehe amount flag)
            genderYear.immigration = genderBeforeYear.immigration;
            genderYear.immigration_generated = genderBeforeYear.immigration_generated;
            if (genderYear.male) { // male
                if (referencepopulation.immigration_male <= 0 || genderYear.age == 1) {
                    referencepopulation.immigration_male = genderYear.immigration;
                }
                else {
                    referencepopulation.immigration_male += genderYear.immigration;
                }
            }
            else { // female
                if (referencepopulation.immigration_female <= 0 || genderYear.age == 1) {
                    referencepopulation.immigration_female = genderYear.immigration;
                }
                else {
                    referencepopulation.immigration_female += genderYear.immigration;
                }
            }
        }
        if (genderYear.reunification_flag) {
            genderYear.reunification = genderBeforeYear.reunification;
            genderYear.reunification_generated = genderBeforeYear.reunification_generated;
        }
    }
    generateEmptyYears() {
        this.years = [];
        for (let i = this.startYear; i <= this.endYear; i++) {
            this.years.push(new _class_year__WEBPACK_IMPORTED_MODULE_5__["Year"](i));
        }
    }
    getPopulationForStackbar(startyear = 2020) {
        const copy = [];
        for (let j = startyear; j < startyear + this.years.length; j++) {
            const test = { year: j };
            for (const key of this.getKeys()) {
                test[key.toString()] = 0;
            }
            copy.push(test);
        }
        for (const year of this.years) {
            if (year.population.length > 0) {
                for (const population of year.population) {
                    copy[year.year - startyear][population.type] = population.amount;
                }
            }
            else {
                for (const key of this.getKeys()) {
                    copy[year.year - startyear][key] = 0;
                }
            }
        }
        console.log(copy);
        /*
        // console.log(copy);
        this.population.forEach( function (element) {
          // element = element;
          copy[element.year - startyear][element.type.appearance.toString()] = element.amount;
        });
    */
        return copy;
    }
    getPopulationForPyramid(year = this.startYear) {
        // todo : Anfassen damit es mit Enum geht
        const copy = [];
        const copyfemale = [];
        const pushing = function (age, male, keys) {
            return Object.assign({}, { male, age }, keys);
            // {male: male, age: age , 'Native Non Muslim': 0 , 'Native Muslim': 0, 'Non Native Non Muslim': 0, 'Non Native Muslim': 0};
        };
        const keys = this.getKeys().reduce((a, b) => (a[b] = 0, a), {});
        console.log(keys);
        for (let i = 0; i <= 100; i++) {
            copy.push(pushing(i, true, keys));
            copyfemale.push(pushing(i, false, keys));
        }
        this.years[year - this.startYear].population.forEach(function (element) {
            const typeApp = element.type;
            // console.log(element);
            element.male.forEach(function (maleElem) {
                /*  const i = copy.findIndex(
                    d => d.age === maleElem.age && d.male === true
                  );*/
                console.log('y not?');
                copy[maleElem.age][typeApp] = Object(util__WEBPACK_IMPORTED_MODULE_6__["isNullOrUndefined"])(maleElem.amount) ? 0 : maleElem.amount;
            });
            element.female.forEach(function (femaleElem) {
                copyfemale[femaleElem.age][typeApp] = Object(util__WEBPACK_IMPORTED_MODULE_6__["isNullOrUndefined"])(femaleElem.amount) ? 0 : femaleElem.amount;
            });
        });
        return [copy, copyfemale];
    }
    getKeys() {
        // TODO : Make this variable by input
        return ['Einheimische Nicht Muslime', 'Einheimische Muslime', 'Muslimische Einwanderer',
            'Nicht Muslimische Einwanderer'];
        // ['Deutsch', 'Muslimische Einwanderer', 'Nicht Muslimische Einwanderer'];
    }
    /*
      getDataForPie(): number[] {
      return [this.pieData[this.pieData.length - 2].amount,
        this.pieData[this.pieData.length - 1].amount];
    }
  
        const amountA = this.population[this.population.length - 2].amount;
      const amountB = this.population[this.population.length - 1].amount;
      const total = amountA + amountB;
      this.pieData.push( {amount: amountA, type: 'A' , percentage: amountA / total, year: this.act_year, total: total});
      this.pieData.push( {amount: amountB, type: 'B' , percentage: amountB / total, year: this.act_year, total: total});
     */
    /*
    getDataForPie(year = this.startYear) {
      const pieData = Object.assign({},this.getKeys().reduce((a, b) => (a[b] = 0, a) , {}));
      for (const population of this.years[year - this.startYear].population) {
        pieData[population.type.name.toString()] = population.amount;
      }
      console.log(pieData);
      return pieData;
    }*/
    getDataForPie(year = this.startYear) {
        const samples = [];
        for (const population of this.years[year - this.startYear].population) {
            samples.push({
                name: population.type,
                value: population.amount,
                abs: Math.abs(population.amount)
            });
        }
        console.log('pie data:', samples);
        return samples;
    }
    translation(x, y) {
        return 'translate(' + x + ',' + y + ')';
    }
    getMargins() {
        return { bottom: 0, left: 0, middle: 28, right: 0, top: 0 };
    }
    saveYear(year, data) {
        this.years[year] = data;
    }
    getGraph(year, nativeType) {
        return this.years[year - this.startYear].getPopulation(nativeType);
    }
    saveGraph(year, type, data, nativeType) {
        // über nativetype und year die Population finden oben
        const population = this.years[year - this.startYear].getPopulation(nativeType);
        if (type === Type.GENDER_DISTRIBUTION) {
        }
        if (type === Type.FERTILITY) {
        }
        if (type === Type.IMMIGRATION) {
        }
        if (type === Type.MORTALITY) {
        }
        if (type === Type.SUBSEQUENT_IMMIGRATION) {
        }
        // Fehler???
    }
    // value, boolean, setByUser
    // TODO: FIx machen bei eingabe, weil das ist es eh schon iteriert und das als
    getMaximumAmount() {
        let maximum = 0;
        for (let i = 0; i < this.years.length; i++) {
            let max = 0;
            for (let y = 0; y < this.years[i].population.length; y++) {
                max += this.years[i].population[y].amount;
            }
            if (max > maximum) {
                maximum = max;
            }
        }
        return maximum;
    }
    getMaximumGenderAmount(year) {
        let maximum = 0;
        let maxF = 0;
        let maxM = 0;
        for (let y = 0; y < this.years[year - this.startYear].population.length; y++) {
            maxF += this.years[year - this.startYear].population[y].amountfemale;
            maxM += this.years[year - this.startYear].population[y].amountmale;
        }
        if (maxF > maximum) {
            maximum = maxF;
        }
        if (maxM > maximum) {
            maximum = maxM;
        }
        return maximum;
    }
};
DataService = DataService_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], DataService);

/*

Standardwerte (Glpckenverteilugn) bekommen wir ncoh ; Feste WErte eingebbar udn
-------------------------
> Raten Wachsen Zwischen Eingaben müssen in der Dritten Dimension auch mitwachsen.

> Ausreisser müssten mit 3 JAhre (vorher ; JETZT ; Nachher ) angefasst werden

> > Anker setzen < <
<> Extra Ideen Aussreisser Jahre  <>
---------------------------------------

Fertilität : Fester Wert
> Standard Motherhood Verteilung
> Motherhood Tabelle : kontinuirlich
> Kopplung zwischen Fertilität UND Motherhood : Je Mehr desto Jünger (Presets)



Einwanderung : Fester Wert
AUswanderung : Fester Wert
> Glockenverteilung


Nachzug :
 < nach 3 Jahren Kinder unter 18 >
 < Nicht alle Formen Berücksichtigen >
 < Hinweis das Funktionen nicht alle abgedeckt werden ; sondern über Intake handel >


 */


/***/ }),

/***/ "./src/app/graph/graph.component.scss":
/*!********************************************!*\
  !*** ./src/app/graph/graph.component.scss ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dyYXBoL2dyYXBoLmNvbXBvbmVudC5zY3NzIn0= */");

/***/ }),

/***/ "./src/app/graph/graph.component.ts":
/*!******************************************!*\
  !*** ./src/app/graph/graph.component.ts ***!
  \******************************************/
/*! exports provided: GraphComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphComponent", function() { return GraphComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var crossfilter2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crossfilter2 */ "./node_modules/crossfilter2/index.js");
/* harmony import */ var crossfilter2__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crossfilter2__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");



let GraphComponent = class GraphComponent {
    constructor() {
        // @ViewChild('nameOfDiv') chartDiv: ElementRef;
        this.ndx = crossfilter2__WEBPACK_IMPORTED_MODULE_1__([{ date: '2011-11-14T16:17:54Z', quantity: 2, total: 190, tip: 100, type: 'tab' }]);
    }
    paint() {
        // const chart = dc.scatterPlot(this.chartDiv.nativeElement);
        // chart.render();
    }
    ngOnInit() {
        this.paint();
    }
};
GraphComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
        selector: 'app-graph',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./graph.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/graph/graph.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./graph.component.scss */ "./src/app/graph/graph.component.scss")).default]
    })
], GraphComponent);



/***/ }),

/***/ "./src/app/message.service.ts":
/*!************************************!*\
  !*** ./src/app/message.service.ts ***!
  \************************************/
/*! exports provided: MessageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageService", function() { return MessageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let MessageService = class MessageService {
    constructor() {
        this.messages = [];
    }
    add(message) {
        const dt = new Date();
        const utcDate = dt.toUTCString();
        const msg = { text: message, timestamp: utcDate };
        this.messages.push(msg);
    }
    clear() {
        this.messages = [];
    }
};
MessageService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], MessageService);



/***/ }),

/***/ "./src/app/messagebox/messagebox.component.scss":
/*!******************************************************!*\
  !*** ./src/app/messagebox/messagebox.component.scss ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lc3NhZ2Vib3gvbWVzc2FnZWJveC5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/messagebox/messagebox.component.ts":
/*!****************************************************!*\
  !*** ./src/app/messagebox/messagebox.component.ts ***!
  \****************************************************/
/*! exports provided: MessageboxComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageboxComponent", function() { return MessageboxComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _message_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../message.service */ "./src/app/message.service.ts");



let MessageboxComponent = class MessageboxComponent {
    constructor(messageService) {
        this.messageService = messageService;
    }
    ngOnInit() {
    }
};
MessageboxComponent.ctorParameters = () => [
    { type: _message_service__WEBPACK_IMPORTED_MODULE_2__["MessageService"] }
];
MessageboxComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-messagebox',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./messagebox.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/messagebox/messagebox.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./messagebox.component.scss */ "./src/app/messagebox/messagebox.component.scss")).default]
    })
], MessageboxComponent);



/***/ }),

/***/ "./src/app/page-not-found/page-not-found.component.scss":
/*!**************************************************************!*\
  !*** ./src/app/page-not-found/page-not-found.component.scss ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2Utbm90LWZvdW5kL3BhZ2Utbm90LWZvdW5kLmNvbXBvbmVudC5zY3NzIn0= */");

/***/ }),

/***/ "./src/app/page-not-found/page-not-found.component.ts":
/*!************************************************************!*\
  !*** ./src/app/page-not-found/page-not-found.component.ts ***!
  \************************************************************/
/*! exports provided: PageNotFoundComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageNotFoundComponent", function() { return PageNotFoundComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let PageNotFoundComponent = class PageNotFoundComponent {
    constructor() { }
    ngOnInit() {
    }
};
PageNotFoundComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-page-not-found',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./page-not-found.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/page-not-found/page-not-found.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./page-not-found.component.scss */ "./src/app/page-not-found/page-not-found.component.scss")).default]
    })
], PageNotFoundComponent);



/***/ }),

/***/ "./src/app/piechart/piechart.component.scss":
/*!**************************************************!*\
  !*** ./src/app/piechart/piechart.component.scss ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BpZWNoYXJ0L3BpZWNoYXJ0LmNvbXBvbmVudC5zY3NzIn0= */");

/***/ }),

/***/ "./src/app/piechart/piechart.component.ts":
/*!************************************************!*\
  !*** ./src/app/piechart/piechart.component.ts ***!
  \************************************************/
/*! exports provided: PiechartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PiechartComponent", function() { return PiechartComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data.service */ "./src/app/data.service.ts");
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3 */ "./node_modules/d3/index.js");




let PiechartComponent = class PiechartComponent {
    constructor(service, year) {
        this.service = service;
        this.year = year;
        /*
        get height(): number { return  parseInt(d3.select('body').style('height'), 10); }
        get width(): number { return parseInt(d3.select('body').style('width'), 10); }
      
         */
        this.height = 100;
        this.width = 100;
        this.dataSource = this.service.getDataForPie(year);
    }
    setYear(year) {
        this.year = year;
        this.dataSource = this.service.getDataForPie(year);
        this.setSVGDimensions();
        // this.color = d3.scaleOrdinal(d3.schemeCategory10);
        this.color = _data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"].getColors();
        this.mainContainer = this.svg.append('g').attr('transform', 'translate(50,50)');
        this.pie = d3__WEBPACK_IMPORTED_MODULE_3__["pie"]().sort(null).value((d) => d.abs);
        this.draw();
    }
    setPieChart(svg) {
        this.svg = svg;
        this.setSVGDimensions();
        // this.color = d3.scaleOrdinal(d3.schemeCategory10);
        this.color = _data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"].getColors();
        this.mainContainer = this.svg.append('g').attr('transform', 'translate(50,50)');
        this.pie = d3__WEBPACK_IMPORTED_MODULE_3__["pie"]().sort(null).value((d) => d.abs);
        this.draw();
    }
    ngOnInit() {
        // this.svg  = d3.select(document.getElementById('mat-tab-content-0-0').children[0]).insert('svg');
    }
    setSVGDimensions() {
        this.radius = (Math.min(this.width, this.height)) / 2;
        this.svg.attr('width', 2 * this.radius).attr('height', 2 * this.radius);
        this.svg.select('g').attr('transform', 'translate(' + this.radius + ',' + this.radius + ')');
    }
    draw() {
        this.setArcs();
        this.drawSlices();
        this.addText();
    }
    setArcs() {
        this.arc = d3__WEBPACK_IMPORTED_MODULE_3__["arc"]().outerRadius(this.radius).innerRadius(this.radius * .2);
    }
    drawSlices() {
        var arcgen = this.arc;
        this.slices = this.mainContainer.selectAll('path')
            .remove().exit()
            .data(this.pie(this.dataSource))
            .enter().append('g').append('path')
            .attr('d', this.arc);
        this.slices
            .attr('fill', (d, i) => this.color[(i + 3) % 4]);
    }
    addText() {
    }
};
PiechartComponent.ctorParameters = () => [
    { type: _data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"] },
    { type: Number }
];
PiechartComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-piechart',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./piechart.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/piechart/piechart.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./piechart.component.scss */ "./src/app/piechart/piechart.component.scss")).default]
    })
], PiechartComponent);



/***/ }),

/***/ "./src/app/pyramid/pyramid.component.scss":
/*!************************************************!*\
  !*** ./src/app/pyramid/pyramid.component.scss ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3B5cmFtaWQvcHlyYW1pZC5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/pyramid/pyramid.component.ts":
/*!**********************************************!*\
  !*** ./src/app/pyramid/pyramid.component.ts ***!
  \**********************************************/
/*! exports provided: PyramidComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PyramidComponent", function() { return PyramidComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3 */ "./node_modules/d3/index.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data.service */ "./src/app/data.service.ts");




let PyramidComponent = class PyramidComponent {
    constructor(dataService, year) {
        this.dataService = dataService;
        this.width = 800;
        this.height = 500;
        this.margin = this.dataService.getMargins();
        this.colors = _data_service__WEBPACK_IMPORTED_MODULE_3__["DataService"].getColors();
        this.keys = this.dataService.getKeys();
        this.regionWidth = this.width / 2 - this.margin.middle;
        this.pointA = this.regionWidth;
        this.pointB = this.width - this.regionWidth;
        this.heightPerBar = (this.height - this.margin.top - this.margin.bottom) / 101;
        this.year = year;
    }
    ngOnInit() {
    }
    setYear(year) {
        this.year = year;
        // this.removeOld();
        this.svg.selectAll('*').remove();
        this.createChart(this.svg);
    }
    createChart(svg) {
        this.svg = svg
            .attr('width', this.margin.left + this.width + this.margin.right)
            .attr('height', this.margin.top + this.height + this.margin.bottom + 100);
        // ADD A GROUP FOR THE SPACE WITHIN THE MARGINS
        this.g = this.svg.append('g')
            .attr('transform', this.dataService.translation(this.margin.left, this.margin.top));
        const data = this.dataService.getPopulationForPyramid(this.year);
        const stack = d3__WEBPACK_IMPORTED_MODULE_2__["stack"]().keys(this.keys);
        const dataSetMale = stack(data[0]);
        const dataSetFemale = stack(data[1]);
        let max = 0;
        for (let i = 0; i < dataSetFemale[dataSetFemale.length - 1].length; i++) {
            const fmale = dataSetFemale[dataSetFemale.length - 1][i][1];
            const male = dataSetMale[dataSetMale.length - 1][i][1];
            if (max < fmale) {
                max = fmale;
            }
            if (max < male) {
                max = male;
            }
        }
        // console.log(dataSetFemale, dataSetMale , maxFemale, maxMale, maxPopulation);
        const maxPopulation = max * 1.1;
        // Todo: Domain 0 to maximum Sum
        console.log(maxPopulation);
        const xScale = d3__WEBPACK_IMPORTED_MODULE_2__["scaleLinear"]()
            .domain([0, maxPopulation]) // Math.max(maxValLeft, maxValRight)])
            .range([0, this.regionWidth])
            .nice();
        const yScale = d3__WEBPACK_IMPORTED_MODULE_2__["scaleLinear"]()
            .rangeRound([this.height, 0])
            .domain([0, 101]);
        const yScale2 = d3__WEBPACK_IMPORTED_MODULE_2__["scaleLinear"]()
            .rangeRound([this.height, 0])
            .domain([0, 101]);
        // const z = d3.scaleOrdinal(d3.schemeBrBG).domain(this.keys);
        const yAxisLeft = d3__WEBPACK_IMPORTED_MODULE_2__["axisRight"](yScale)
            .tickSize(4)
            .tickPadding(this.margin.middle - 4);
        const yAxisRight = d3__WEBPACK_IMPORTED_MODULE_2__["axisLeft"](yScale2); // .tickSize(4);
        const xAxisRight = d3__WEBPACK_IMPORTED_MODULE_2__["axisBottom"](xScale); //        .tickFormat(d3.format('%'));
        const xAxisLeft = d3__WEBPACK_IMPORTED_MODULE_2__["axisBottom"](xScale.copy().range([this.pointA, 0])); // .tickFormat(d3.format('%'));
        // REVERSE THE X-AXIS SCALE ON THE LEFT SIDE BY REVERSING THE RANGE
        // Text
        this.svg.append('text')
            .attr('transform', 'translate(' + (this.pointA / 2) + ' ,' +
            (this.height + this.margin.top + 65) + ')')
            .style('text-anchor', 'middle')
            .text('Frauen');
        this.svg.append('text')
            .attr('transform', 'translate(' + (this.regionWidth + this.pointB / 2) + ' ,' +
            (this.height + this.margin.top + 65) + ')')
            .style('text-anchor', 'middle')
            .text('Männer');
        //
        // DRAW AXES
        this.g.append('g')
            .attr('class', 'axis y left')
            .attr('transform', this.dataService.translation(this.pointA, 0))
            .call(yAxisLeft);
        this.g.append('g')
            .attr('class', 'axis y right')
            .attr('transform', this.dataService.translation(this.pointB, 0))
            .call(yAxisRight)
            .selectAll('text').remove();
        this.g.append('g')
            .attr('class', 'axis x left')
            .attr('transform', this.dataService.translation(0, this.height))
            .call(xAxisLeft)
            .selectAll('text')
            .style('text-anchor', 'end')
            .attr('font-weight', 'italic')
            .attr('dx', '-.7em')
            .attr('dy', '.2em')
            .attr('transform', 'rotate(-45)');
        this.g.append('g')
            .attr('class', 'axis x right')
            .attr('transform', this.dataService.translation(this.pointB, this.height))
            .call(xAxisRight)
            .selectAll('text')
            .style('text-anchor', 'end')
            .attr('font-weight', 'italic')
            .attr('dx', '-.7em')
            .attr('dy', '.2em')
            .attr('transform', 'rotate(-45)');
        //  MAKE GROUPS FOR EACH SIDE OF CHART
        // scale(-1,1) is used to reverse the left side so the bars grow left instead of right
        const leftBarGroup = this.g.selectAll('g.FemaleAmount')
            .data(dataSetFemale).enter()
            .append('g')
            .attr('class', 'amount')
            .style('fill', (d, i) => this.colors[i])
            .attr('transform', this.dataService.translation(this.pointA, 0) + ' scale(-1,1)');
        // .enter().append('g').attr('class', 'amount').style('fill', (d,i) => colors[i])
        const rightBarGroup = this.g.selectAll('g.MaleAmount')
            .data(dataSetMale).enter()
            .append('g')
            .attr('class', 'amount')
            .style('fill', (d, i) => this.colors[i])
            .attr('transform', this.dataService.translation(this.pointB, 0));
        const tooltip = this.svg.append('g')
            .attr('class', 'tooltip')
            .style('display', 'none');
        tooltip.append('rect')
            .attr('width', 30)
            .attr('height', 20)
            .attr('fill', 'none')
            .style('opacity', 0.5);
        tooltip.append('text')
            .attr('x', 15)
            .attr('dy', '1.2em')
            .style('text-anchor', 'middle')
            .attr('font-size', '12px')
            .attr('font-weight', 'bold');
        leftBarGroup.selectAll('rect')
            .data(d => d)
            .enter()
            .append('rect')
            .attr('x', d => xScale(d[0]))
            .attr('width', d => xScale(d[1]) - xScale(d[0]))
            .attr('y', d => yScale(d.data.age) - this.heightPerBar)
            .attr('height', this.heightPerBar)
            .on('mouseover', () => {
            tooltip.style('display', null);
        })
            .on('mouseout', () => {
            tooltip.style('display', 'none');
        })
            .on('mousemove', function (d, i) {
            const xPosition = d3__WEBPACK_IMPORTED_MODULE_2__["mouse"](this)[0] + 15;
            const yPosition = d3__WEBPACK_IMPORTED_MODULE_2__["mouse"](this)[1] + 20;
            tooltip.attr('transform', 'translate(' + xPosition + ',' + yPosition + ')');
            tooltip.select('text').text(Number(d[1] - d[0]).toLocaleString());
        }); // .attr('fill', (d, i) => colors[i]);
        rightBarGroup.selectAll('.bar.right')
            .data(d => d)
            .enter()
            .append('rect')
            .attr('x', d => xScale(d[0]))
            .attr('width', d => xScale(d[1]) - xScale(d[0]))
            .attr('y', d => yScale(d.data.age) - this.heightPerBar)
            .attr('height', this.heightPerBar)
            .attr('typeComb', d => d.data.typecomb)
            .on('mouseover', () => {
            tooltip.style('display', null);
        })
            .on('mouseout', () => {
            tooltip.style('display', 'none');
        })
            .on('mousemove', function (d, i) {
            const xPosition = d3__WEBPACK_IMPORTED_MODULE_2__["mouse"](this)[0] - 15;
            const yPosition = d3__WEBPACK_IMPORTED_MODULE_2__["mouse"](this)[1] - 20;
            tooltip.attr('transform', 'translate(' + xPosition + ',' + yPosition + ')');
            tooltip.select('text').text(Number(d[1] - d[0]).toLocaleString());
        });
        //   .attr('fill', d => z('Native Non Muslim'));
        // function(d) {return z('Native Non Muslim'); });
    }
};
PyramidComponent.ctorParameters = () => [
    { type: _data_service__WEBPACK_IMPORTED_MODULE_3__["DataService"] },
    { type: Number }
];
PyramidComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-pyramid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./pyramid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/pyramid/pyramid.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./pyramid.component.scss */ "./src/app/pyramid/pyramid.component.scss")).default]
    })
], PyramidComponent);



/***/ }),

/***/ "./src/app/show-data/show-data.component.scss":
/*!****************************************************!*\
  !*** ./src/app/show-data/show-data.component.scss ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Nob3ctZGF0YS9zaG93LWRhdGEuY29tcG9uZW50LnNjc3MifQ== */");

/***/ }),

/***/ "./src/app/show-data/show-data.component.ts":
/*!**************************************************!*\
  !*** ./src/app/show-data/show-data.component.ts ***!
  \**************************************************/
/*! exports provided: ShowDataComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowDataComponent", function() { return ShowDataComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ShowDataComponent = class ShowDataComponent {
    constructor() { }
    ngOnInit() {
    }
};
ShowDataComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-show-data',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./show-data.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/show-data/show-data.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./show-data.component.scss */ "./src/app/show-data/show-data.component.scss")).default]
    })
], ShowDataComponent);



/***/ }),

/***/ "./src/app/stackbar/stackbar.component.scss":
/*!**************************************************!*\
  !*** ./src/app/stackbar/stackbar.component.scss ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3N0YWNrYmFyL3N0YWNrYmFyLmNvbXBvbmVudC5zY3NzIn0= */");

/***/ }),

/***/ "./src/app/stackbar/stackbar.component.ts":
/*!************************************************!*\
  !*** ./src/app/stackbar/stackbar.component.ts ***!
  \************************************************/
/*! exports provided: StackbarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StackbarComponent", function() { return StackbarComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3 */ "./node_modules/d3/index.js");
/* harmony import */ var d3_scale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-scale */ "./node_modules/d3-scale/src/index.js");
/* harmony import */ var d3_axis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-axis */ "./node_modules/d3-axis/src/index.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data.service */ "./src/app/data.service.ts");






let StackbarComponent = class StackbarComponent {
    constructor(dataService) {
        this.dataService = dataService;
        this.height = 500; // 600
        this.width = 800; // 900
    }
    ngOnInit() {
        // this.createChart();
    }
    setYear(year) {
        //nothing needs to be done here. THIS GRAPH NEVER CHANGES MUHAHAHAH
    }
    createChart(svg) {
        this.svg = svg;
        this.margin = { top: 20, right: 20, bottom: 30, left: 40 };
        /*
          // ADD A GROUP FOR THE SPACE WITHIN THE MARGINS
        this.svg = d3.select('#stackbar').append('svg')
          .attr('width', this.margin.left + this.width + this.margin.right)
          .attr('height', this.margin.top + this.height + this.margin.bottom);
     this.svg =   d3.select('body').append('svg')
          .attr('width', this.margin.left + this.width + this.margin.right)
          .attr('height', this.margin.top + this.height + this.margin.bottom);
    
         */
        this.svg.attr('width', this.margin.left + this.width + this.margin.right)
            .attr('height', this.margin.top + this.height + this.margin.bottom);
        this.g = this.svg.append('g')
            .attr('transform', this.dataService.translation(this.margin.left, this.margin.top));
        const stack = d3__WEBPACK_IMPORTED_MODULE_2__["stack"]().keys(this.dataService.getKeys());
        const data = this.dataService.getPopulationForStackbar();
        const dataset = stack(this.dataService.getPopulationForStackbar());
        //  console.log(data, dataset);
        // this.removeOld();
        this.x = // d3.scaleLinear().rangeRound([0, this.width]);
            d3_scale__WEBPACK_IMPORTED_MODULE_3__["scaleBand"]()
                .rangeRound([0, this.width])
                .paddingInner(0.15)
                .align(0.1);
        this.x.domain(data.map(function (d) {
            return d.year;
        }));
        // const maxY = 75000000; // d3.max(dataset, function(d) { return d; } );
        const maxY = this.dataService.getMaximumAmount() * 1.2;
        this.y = d3__WEBPACK_IMPORTED_MODULE_2__["scaleLinear"]().rangeRound([this.height, 0]).domain([0, maxY]);
        // ToDO: Anpassen auf Feste X Breite für alle Jahre
        // Grün für die Muslims und Orange (o.Ä) für die non muslim
        //    const colors = ['#b05522', '#d25c4d', '#00AA00', '#10AA44'];
        const colors = _data_service__WEBPACK_IMPORTED_MODULE_5__["DataService"].getColors(); // ['#b33040', '#d25c4d', '#f2b448', '#d9d574'];
        const xAxis = d3__WEBPACK_IMPORTED_MODULE_2__["axisBottom"](this.x).ticks(d3__WEBPACK_IMPORTED_MODULE_2__["timeYear"].every(1));
        this.g.append('g')
            .attr('class', 'axis')
            .call(d3_axis__WEBPACK_IMPORTED_MODULE_4__["axisLeft"](this.y).ticks(null, 's'))
            .append('text')
            .attr('x', 2)
            .attr('y', this.y(this.y.ticks().pop()) + 0.5)
            .attr('dy', '0.32em')
            .attr('fill', '#000')
            .attr('font-weight', 'bold')
            .attr('text-anchor', 'start')
            .text('Population');
        this.g.append('g')
            .attr('class', 'xAxis')
            .attr('transform', 'translate(0,' + this.height + ')')
            .call(xAxis)
            .selectAll('text')
            .style('text-anchor', 'end')
            .attr('font-weight', 'italic')
            .attr('dx', '-.7em')
            .attr('dy', '.2em')
            .attr('transform', 'rotate(-65)');
        const tooltip = this.svg.append('g')
            .attr('class', 'tooltip')
            .style('display', 'none');
        tooltip.append('rect')
            .attr('width', 30)
            .attr('height', 20)
            .attr('fill', 'none')
            .style('opacity', 0.5);
        tooltip.append('text')
            .attr('x', 15)
            .attr('dy', '1.2em')
            .style('text-anchor', 'middle')
            .attr('font-size', '12px')
            .attr('font-weight', 'bold');
        const groups = this.g.selectAll('g.amount')
            .data(dataset)
            .enter().append('g')
            .attr('class', 'amount')
            .style('fill', (d, i) => colors[i]);
        // TODO : Ich denke hier noch auf dicke anpassen damit die immer gleihc dick sind die Graphen
        const rect = groups.selectAll('rect')
            .data(d => d)
            .enter()
            .append('rect')
            .attr('x', d => this.x(d.data.year))
            .attr('width', d => this.x.bandwidth())
            // .attr('width', this.width/60)
            .attr('y', d => this.y(d[1]))
            .attr('height', d => {
            return this.y(d[0]) - this.y(d[1]);
        })
            .attr('typeComb', d => d.data.typecomb)
            .on('mouseover', function () {
            tooltip.style('display', null);
        })
            .on('mouseout', function () {
            tooltip.style('display', 'none');
        })
            .on('mousemove', function (d, i) {
            const xPosition = d3__WEBPACK_IMPORTED_MODULE_2__["mouse"](this)[0] - 15;
            const yPosition = d3__WEBPACK_IMPORTED_MODULE_2__["mouse"](this)[1] - 25;
            tooltip.attr('transform', 'translate(' + xPosition + ',' + yPosition + ')');
            tooltip.select('text').text(Number(d[1] - d[0]).toLocaleString());
        });
    }
};
StackbarComponent.ctorParameters = () => [
    { type: _data_service__WEBPACK_IMPORTED_MODULE_5__["DataService"] }
];
StackbarComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-stackbar',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./stackbar.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/stackbar/stackbar.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./stackbar.component.scss */ "./src/app/stackbar/stackbar.component.scss")).default]
    })
], StackbarComponent);



/***/ }),

/***/ "./src/app/tab-example/tab-example.component.scss":
/*!********************************************************!*\
  !*** ./src/app/tab-example/tab-example.component.scss ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".mat-tab-group {\n  margin-bottom: 48px;\n  margin-left: 48px;\n}\n\n.range {\n  position: relative;\n  width: 550px;\n  height: 5px;\n}\n\n.range input {\n  width: 100%;\n  position: absolute;\n  top: 2px;\n  height: 0;\n  -webkit-appearance: none;\n}\n\n.range input::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  width: 18px;\n  height: 18px;\n  margin: -8px 0 0;\n  border-radius: 50%;\n  background: #37adbf;\n  cursor: pointer;\n  border: 0 !important;\n}\n\n.range input::-moz-range-thumb {\n  width: 18px;\n  height: 18px;\n  margin: -8px 0 0;\n  border-radius: 50%;\n  background: #37adbf;\n  cursor: pointer;\n  border: 0 !important;\n}\n\n.range input::-ms-thumb {\n  width: 18px;\n  height: 18px;\n  margin: -8px 0 0;\n  border-radius: 50%;\n  background: #37adbf;\n  cursor: pointer;\n  border: 0 !important;\n}\n\n.range input::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 2px;\n  cursor: pointer;\n  background: #b2b2b2;\n}\n\n.range input::-moz-range-track {\n  width: 100%;\n  height: 2px;\n  cursor: pointer;\n  background: #b2b2b2;\n}\n\n.range input::-ms-track {\n  width: 100%;\n  height: 2px;\n  cursor: pointer;\n  background: #b2b2b2;\n}\n\n.range input:focus {\n  background: none;\n  outline: none;\n}\n\n.range input::-ms-track {\n  width: 100%;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\n.range-labels {\n  margin: 18px -41px 0;\n  padding: 0;\n  list-style: none;\n}\n\n.range-labels li {\n  position: relative;\n  float: left;\n  width: 90.25px;\n  text-align: center;\n  color: #b2b2b2;\n  font-size: 14px;\n  cursor: pointer;\n}\n\n.range-labels li::before {\n  position: absolute;\n  top: -25px;\n  right: 0;\n  left: 0;\n  content: \"\";\n  margin: 0 auto;\n  width: 9px;\n  height: 9px;\n  background: #b2b2b2;\n  border-radius: 50%;\n}\n\n.range-labels .active {\n  color: #37adbf;\n}\n\n.range-labels .selected::before {\n  background: #37adbf;\n}\n\n.range-labels .active.selected::before {\n  display: none;\n}\n\n.slidecontainer {\n  width: 100%;\n}\n\n.slider {\n  -webkit-appearance: none;\n  width: 99%;\n  height: 15px;\n  border-radius: 5px;\n  background: #d3d3d3;\n  outline: none;\n  opacity: 0.7;\n  -webkit-transition: 0.2s;\n  -webkit-transition: opacity 0.2s;\n  transition: opacity 0.2s;\n}\n\n.slider:hover {\n  opacity: 1;\n}\n\n.slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  background: #0c53d6;\n  cursor: pointer;\n}\n\n.slider::-moz-range-thumb {\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  background: #0c53d6;\n  cursor: pointer;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiLWV4YW1wbGUvQzpcXFVzZXJzXFxld2FsZFxcT25lRHJpdmVcXERlc2t0b3BcXGRldlxcbWlncmFudC1kZW1vZ3JhcGhpYy13ZWJzaXRlXFxkZW1vZ3JhcGhpY1dlYnNpdGUvc3JjXFxhcHBcXHRhYi1leGFtcGxlXFx0YWItZXhhbXBsZS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvdGFiLWV4YW1wbGUvdGFiLWV4YW1wbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtFQUNBLGlCQUFBO0FDQ0Y7O0FEb0JBO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQ2pCRjs7QURvQkE7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLHdCQUFBO0FDakJGOztBRG9CRTtFQUNFLHdCQUFBO0VBL0JGLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0FDY0Y7O0FEZUU7RUFuQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0Esb0JBQUE7QUN1QkY7O0FEVUU7RUF2Q0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0Esb0JBQUE7QUNnQ0Y7O0FETUU7RUFsQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUMrQkY7O0FESUU7RUF0Q0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUNxQ0Y7O0FERUU7RUExQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUMyQ0Y7O0FEQUU7RUFDRSxnQkFBQTtFQUNBLGFBQUE7QUNFSjs7QURDRTtFQUNFLFdBQUE7RUFDQSxlQUFBO0VBQ0EsdUJBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0FDQ0o7O0FESUE7RUFDRSxvQkFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtBQ0RGOztBREdFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FDREo7O0FER0k7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxRQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FDRE47O0FES0U7RUFDRSxjQUFBO0FDSEo7O0FETUU7RUFDRSxtQkFBQTtBQ0pKOztBRE9FO0VBQ0UsYUFBQTtBQ0xKOztBRGdCQTtFQUNFLFdBQUE7QUNiRjs7QURnQkE7RUFDRSx3QkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0Esd0JBQUE7RUFDQSxnQ0FBQTtFQUFBLHdCQUFBO0FDYkY7O0FEZ0JBO0VBQ0UsVUFBQTtBQ2JGOztBRGdCQTtFQUNFLHdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FDYkY7O0FEZ0JBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtBQ2JGIiwiZmlsZSI6InNyYy9hcHAvdGFiLWV4YW1wbGUvdGFiLWV4YW1wbGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWF0LXRhYi1ncm91cCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogNDhweDtcclxuICBtYXJnaW4tbGVmdDogNDhweDtcclxufVxyXG5cclxuXHJcbkBtaXhpbiByYW5nZVRodW1iIHtcclxuICB3aWR0aDogMThweDtcclxuICBoZWlnaHQ6IDE4cHg7XHJcbiAgbWFyZ2luOiAtOHB4IDAgIDA7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGJhY2tncm91bmQ6ICMzN2FkYmY7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGJvcmRlcjogMCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG5AbWl4aW4gcmFuZ2VUcmFjayB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAycHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGJhY2tncm91bmQ6ICNiMmIyYjI7XHJcbn1cclxuXHJcbi5yYW5nZSB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHdpZHRoOiA1NTBweDtcclxuICBoZWlnaHQ6IDVweDtcclxufVxyXG5cclxuLnJhbmdlIGlucHV0IHtcclxuICB3aWR0aDogMTAwJTtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAycHg7XHJcbiAgaGVpZ2h0OiAwO1xyXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcclxuXHJcbiAgLy8gVGh1bWJcclxuICAmOjotd2Via2l0LXNsaWRlci10aHVtYiB7XHJcbiAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7IC8vIG5lZWRlZCBhZ2FpbiBmb3IgQ2hyb21lICYgU2FmYXJpXHJcbiAgICBAaW5jbHVkZSByYW5nZVRodW1iO1xyXG4gIH1cclxuXHJcbiAgJjo6LW1vei1yYW5nZS10aHVtYiB7XHJcbiAgICBAaW5jbHVkZSByYW5nZVRodW1iO1xyXG4gIH1cclxuXHJcbiAgJjo6LW1zLXRodW1iIHtcclxuICAgIEBpbmNsdWRlIHJhbmdlVGh1bWI7XHJcbiAgfVxyXG5cclxuICAvLyBUcmFja1xyXG4gICY6Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHtcclxuICAgIEBpbmNsdWRlIHJhbmdlVHJhY2s7XHJcbiAgfVxyXG5cclxuICAmOjotbW96LXJhbmdlLXRyYWNrIHtcclxuICAgIEBpbmNsdWRlIHJhbmdlVHJhY2s7XHJcbiAgfVxyXG5cclxuICAmOjotbXMtdHJhY2sge1xyXG4gICAgQGluY2x1ZGUgcmFuZ2VUcmFjaztcclxuICB9XHJcblxyXG4gICY6Zm9jdXMgeyAvLyBvdmVycmlkZSBvdXRsaW5lL2JhY2tncm91bmQgb24gZm9jdXNcclxuICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gIH1cclxuXHJcbiAgJjo6LW1zLXRyYWNrIHsgLy8gQSBsaXR0bGUgc29tZXRoaW4nIHNvbWV0aGluJyBmb3IgSUVcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIH1cclxufVxyXG5cclxuLy8gTGFiZWxzIGJlbG93IHNsaWRlclxyXG4ucmFuZ2UtbGFiZWxzIHtcclxuICBtYXJnaW46IDE4cHggLTQxcHggMDtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgXHJcbiAgbGkge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICB3aWR0aDogOTAuMjVweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGNvbG9yOiAjYjJiMmIyO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgXHJcbiAgICAmOjpiZWZvcmUge1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIHRvcDogLTI1cHg7XHJcbiAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICBsZWZ0OiAwO1xyXG4gICAgICBjb250ZW50OiBcIlwiO1xyXG4gICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgd2lkdGg6IDlweDtcclxuICAgICAgaGVpZ2h0OiA5cHg7XHJcbiAgICAgIGJhY2tncm91bmQ6ICNiMmIyYjI7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLmFjdGl2ZSB7XHJcbiAgICBjb2xvcjogIzM3YWRiZjtcclxuICB9XHJcbiAgXHJcbiAgLnNlbGVjdGVkOjpiZWZvcmUge1xyXG4gICAgYmFja2dyb3VuZDogIzM3YWRiZjtcclxuICB9XHJcbiAgXHJcbiAgLmFjdGl2ZS5zZWxlY3RlZDo6YmVmb3JlIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLnNsaWRlY29udGFpbmVyIHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLnNsaWRlciB7XHJcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xyXG4gIHdpZHRoOiA5OSU7XHJcbiAgaGVpZ2h0OiAxNXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBiYWNrZ3JvdW5kOiAjZDNkM2QzO1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbiAgb3BhY2l0eTogMC43O1xyXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogLjJzO1xyXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjJzO1xyXG59XHJcblxyXG4uc2xpZGVyOmhvdmVyIHtcclxuICBvcGFjaXR5OiAxO1xyXG59XHJcblxyXG4uc2xpZGVyOjotd2Via2l0LXNsaWRlci10aHVtYiB7XHJcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xyXG4gIGFwcGVhcmFuY2U6IG5vbmU7XHJcbiAgd2lkdGg6IDI1cHg7XHJcbiAgaGVpZ2h0OiAyNXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBiYWNrZ3JvdW5kOiByZ2IoMTIsIDgzLCAyMTQpO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLnNsaWRlcjo6LW1vei1yYW5nZS10aHVtYiB7XHJcbiAgd2lkdGg6IDI1cHg7XHJcbiAgaGVpZ2h0OiAyNXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBiYWNrZ3JvdW5kOiByZ2IoMTIsIDgzLCAyMTQpO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufSIsIi5tYXQtdGFiLWdyb3VwIHtcbiAgbWFyZ2luLWJvdHRvbTogNDhweDtcbiAgbWFyZ2luLWxlZnQ6IDQ4cHg7XG59XG5cbi5yYW5nZSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDU1MHB4O1xuICBoZWlnaHQ6IDVweDtcbn1cblxuLnJhbmdlIGlucHV0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAycHg7XG4gIGhlaWdodDogMDtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xufVxuLnJhbmdlIGlucHV0Ojotd2Via2l0LXNsaWRlci10aHVtYiB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgd2lkdGg6IDE4cHg7XG4gIGhlaWdodDogMThweDtcbiAgbWFyZ2luOiAtOHB4IDAgMDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiAjMzdhZGJmO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlcjogMCAhaW1wb3J0YW50O1xufVxuLnJhbmdlIGlucHV0OjotbW96LXJhbmdlLXRodW1iIHtcbiAgd2lkdGg6IDE4cHg7XG4gIGhlaWdodDogMThweDtcbiAgbWFyZ2luOiAtOHB4IDAgMDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiAjMzdhZGJmO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlcjogMCAhaW1wb3J0YW50O1xufVxuLnJhbmdlIGlucHV0OjotbXMtdGh1bWIge1xuICB3aWR0aDogMThweDtcbiAgaGVpZ2h0OiAxOHB4O1xuICBtYXJnaW46IC04cHggMCAwO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJhY2tncm91bmQ6ICMzN2FkYmY7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyOiAwICFpbXBvcnRhbnQ7XG59XG4ucmFuZ2UgaW5wdXQ6Oi13ZWJraXQtc2xpZGVyLXJ1bm5hYmxlLXRyYWNrIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJhY2tncm91bmQ6ICNiMmIyYjI7XG59XG4ucmFuZ2UgaW5wdXQ6Oi1tb3otcmFuZ2UtdHJhY2sge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAycHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYmFja2dyb3VuZDogI2IyYjJiMjtcbn1cbi5yYW5nZSBpbnB1dDo6LW1zLXRyYWNrIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMnB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJhY2tncm91bmQ6ICNiMmIyYjI7XG59XG4ucmFuZ2UgaW5wdXQ6Zm9jdXMge1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xufVxuLnJhbmdlIGlucHV0OjotbXMtdHJhY2sge1xuICB3aWR0aDogMTAwJTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4ucmFuZ2UtbGFiZWxzIHtcbiAgbWFyZ2luOiAxOHB4IC00MXB4IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG59XG4ucmFuZ2UtbGFiZWxzIGxpIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IDkwLjI1cHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6ICNiMmIyYjI7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLnJhbmdlLWxhYmVscyBsaTo6YmVmb3JlIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0yNXB4O1xuICByaWdodDogMDtcbiAgbGVmdDogMDtcbiAgY29udGVudDogXCJcIjtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHdpZHRoOiA5cHg7XG4gIGhlaWdodDogOXB4O1xuICBiYWNrZ3JvdW5kOiAjYjJiMmIyO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG4ucmFuZ2UtbGFiZWxzIC5hY3RpdmUge1xuICBjb2xvcjogIzM3YWRiZjtcbn1cbi5yYW5nZS1sYWJlbHMgLnNlbGVjdGVkOjpiZWZvcmUge1xuICBiYWNrZ3JvdW5kOiAjMzdhZGJmO1xufVxuLnJhbmdlLWxhYmVscyAuYWN0aXZlLnNlbGVjdGVkOjpiZWZvcmUge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uc2xpZGVjb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnNsaWRlciB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgd2lkdGg6IDk5JTtcbiAgaGVpZ2h0OiAxNXB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJhY2tncm91bmQ6ICNkM2QzZDM7XG4gIG91dGxpbmU6IG5vbmU7XG4gIG9wYWNpdHk6IDAuNztcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAwLjJzO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnM7XG59XG5cbi5zbGlkZXI6aG92ZXIge1xuICBvcGFjaXR5OiAxO1xufVxuXG4uc2xpZGVyOjotd2Via2l0LXNsaWRlci10aHVtYiB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgd2lkdGg6IDI1cHg7XG4gIGhlaWdodDogMjVweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBiYWNrZ3JvdW5kOiAjMGM1M2Q2O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5zbGlkZXI6Oi1tb3otcmFuZ2UtdGh1bWIge1xuICB3aWR0aDogMjVweDtcbiAgaGVpZ2h0OiAyNXB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJhY2tncm91bmQ6ICMwYzUzZDY7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn0iXX0= */");

/***/ }),

/***/ "./src/app/tab-example/tab-example.component.ts":
/*!******************************************************!*\
  !*** ./src/app/tab-example/tab-example.component.ts ***!
  \******************************************************/
/*! exports provided: TabExampleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TabExampleComponent", function() { return TabExampleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data.service */ "./src/app/data.service.ts");
/* harmony import */ var _class_native_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../class/native-type */ "./src/app/class/native-type.ts");
/* harmony import */ var _chart_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../chart.service */ "./src/app/chart.service.ts");
/* harmony import */ var _piechart_piechart_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../piechart/piechart.component */ "./src/app/piechart/piechart.component.ts");
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3 */ "./node_modules/d3/index.js");
/* harmony import */ var _stackbar_stackbar_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../stackbar/stackbar.component */ "./src/app/stackbar/stackbar.component.ts");
/* harmony import */ var _pyramid_pyramid_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pyramid/pyramid.component */ "./src/app/pyramid/pyramid.component.ts");









let TabExampleComponent = class TabExampleComponent {
    constructor(dataService) {
        this.dataService = dataService;
        this.tabs = ['Einheimische Nicht-Muslime', 'Einheimische Muslime', 'Nicht-Muslimische Einwanderer', 'Muslimische Einwanderer'];
        this.overheadtabs = ['Übersicht', 'Geschlechtsverteilung', 'Fertilität', 'Einwanderung', 'Überlebensrate', 'Nachzug'];
        this.invader = 2;
        this.graphs = [];
        this.groupIndex = 0;
        this.categoryIndex = 0;
        this.lastIndex = 0;
        this.unsavedState = false;
        this.year = 2020;
    }
    selectCategory(tab) {
        this.groupIndex = tab.index;
        this.loadContent();
    }
    selectedTab(tab) {
        this.loadContent();
    }
    loadContent() {
        if (this.categoryIndex === 0) {
            if (this.lastIndex == this.categoryIndex) {
                this.graphs.map(val => val.setYear(this.year));
            }
            else {
                this.graphs.map(val => val.svg.remove());
                this.graphs = [];
                this.buildOverview();
            }
        }
        else {
            this.graphs.map(val => val.svg.remove());
            this.graphs = [];
            if (this.categoryIndex === 1) { // gender distribution
                this.buildGenderDistributionGraph();
            }
            else if (this.categoryIndex === 2) { // fertility
                this.buildFertilityGraph();
            }
            else if (this.categoryIndex === 3) { // immigration
                this.buildimmigrationGraph();
            }
            else if (this.categoryIndex === 4) { // survive rate
                this.buildSurviveGraph();
            }
            else if (this.categoryIndex === 5) { // reunification
                this.buildReunificationGraph();
            }
        }
        this.lastIndex = this.categoryIndex;
    }
    ngAfterViewInit() {
        this.buildOverview();
    }
    ngOnInit() {
        const slider = document.getElementById('yearSliderInput');
        const output = document.getElementById('yearTextInput');
        const site = this;
        output.value = slider.value;
        slider.oninput = function () {
            output.value = slider.value;
            site.year = Number(slider.value);
            if (site.categoryIndex != 1) {
                site.loadContent();
            }
        };
        output.onchange = function () {
            if (Number(output.value) > 2100) {
                output.value = '2100';
            }
            else if (Number(output.value) < 2020) {
                output.value = '2020';
            }
            else {
                output.value = '2020';
            }
            slider.value = output.value;
            site.year = (Number)(output.value);
            site.loadContent();
        };
        this.data = this.dataService.years[Number(slider.value) - 2020].population;
        this.loadContent();
    }
    clearGraph() {
        d3__WEBPACK_IMPORTED_MODULE_6__["select"]('#graphFemale').html('');
        d3__WEBPACK_IMPORTED_MODULE_6__["select"]('#graphMale').html('');
    }
    savePopulation() {
        let femaleValues = this.graphs[0].getValues();
        let maleValues = this.graphs[1].getValues();
        const groupValue = this.dataService.getGraph(2020, this.getNativeTypeFromIndex(this.groupIndex));
        groupValue.calculateAmount();
        let female = this.dataService.years[0].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female;
        let male = this.dataService.years[0].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).male;
        let amountFemale = Number(document.getElementById('femaleAmountInput').value);
        let amountMale = Number(document.getElementById('maleAmountInput').value);
        for (let i = 0; i <= 100; i++) {
            female[i].amount = amountFemale * femaleValues[i];
            female[i].amount_generated = true;
            male[i].amount = amountMale * maleValues[i];
            male[i].amount_generated = true;
        }
        let userPoints = this.graphs[0].getUserPoints();
        for (var userPoint in userPoints) {
            female[userPoints[userPoint]].amount_generated = false;
        }
        userPoints = this.graphs[1].getUserPoints();
        for (var userPoint in userPoints) {
            male[userPoints[userPoint]].amount_generated = false;
        }
        this.dataService.years[0].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).male = male;
        this.dataService.years[0].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female = female;
        this.dataService.calculatePopulation(2021);
    }
    saveImmigration() {
        let femaleValues = this.graphs[0].getValues();
        let maleValues = this.graphs[1].getValues();
        let female = this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female;
        let male = this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).male;
        let amountFemale = Number(document.getElementById('femaleAmountInput').value);
        let amountMale = Number(document.getElementById('maleAmountInput').value);
        for (let i = 0; i <= 100; i++) {
            female[i].immigration = amountFemale * femaleValues[i];
            female[i].immigration_generated = true;
            male[i].immigration = amountMale * maleValues[i];
            male[i].immigration_generated = true;
        }
        let userPoints = this.graphs[0].getUserPoints();
        for (var userPoint in userPoints) {
            female[userPoints[userPoint]].immigration_generated = false;
        }
        userPoints = this.graphs[1].getUserPoints();
        for (var userPoint in userPoints) {
            male[userPoints[userPoint]].immigration_generated = false;
        }
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).male = male;
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).immigration_male = amountMale;
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female = female;
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).immigration_female = amountFemale;
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).immigration = amountMale + amountFemale;
        this.dataService.calculatePopulation(this.year + 1);
    }
    saveFertility() {
        let femaleValues = this.graphs[0].getValues();
        let female = this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female;
        for (let i = 0; i <= 100; i++) {
            female[i].birthrate = femaleValues[i];
            female[i].birthrate_generated = true;
        }
        let userPoints = this.graphs[0].getUserPoints();
        for (var userPoint in userPoints) {
            female[userPoints[userPoint]].birthrate_generated = false;
        }
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).birth_amount = Number(document.getElementById('femaleAmountInput').value);
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female = female;
        this.dataService.calculatePopulation(this.year + 1);
    }
    saveSurvive() {
        let femaleValues = this.graphs[0].getValues();
        let maleValues = this.graphs[1].getValues();
        let female = this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female;
        let male = this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).male;
        for (let i = 0; i <= 100; i++) {
            female[i].surviverate = femaleValues[i];
            male[i].surviverate = maleValues[i];
        }
        let userPoints = this.graphs[0].getUserPoints();
        for (var userPoint in userPoints) {
            female[userPoints[userPoint]].surviverate_generated = false;
        }
        userPoints = this.graphs[1].getUserPoints();
        for (var userPoint in userPoints) {
            male[userPoints[userPoint]].surviverate_generated = false;
        }
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).male = male;
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female = female;
        this.dataService.calculatePopulation(this.year + 1);
    }
    saveReunification() {
        let femaleValues = this.graphs[0].getValues();
        let maleValues = this.graphs[1].getValues();
        const groupValue = this.dataService.getGraph(Number(document.getElementById('yearSliderInput').value), this.getNativeTypeFromIndex(this.groupIndex));
        let female = this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female;
        let male = this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).male;
        let amountFemale = Number(document.getElementById('femaleAmountInput').value);
        let amountMale = Number(document.getElementById('maleAmountInput').value);
        for (let i = 0; i <= 100; i++) {
            female[i].reunification = amountFemale * femaleValues[i];
            male[i].reunification = amountMale * maleValues[i];
        }
        let userPoints = this.graphs[0].getUserPoints();
        for (var userPoint in userPoints) {
            female[userPoints[userPoint]].reunification_generated = false;
        }
        userPoints = this.graphs[1].getUserPoints();
        for (var userPoint in userPoints) {
            male[userPoints[userPoint]].reunification_generated = false;
        }
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).male = male;
        this.dataService.years[this.year - 2020].getPopulation(this.getNativeTypeFromIndex(this.groupIndex)).female = female;
        this.dataService.calculatePopulation(this.year + 1);
    }
    buildGenderDistributionGraph() {
        // diesen part muesste man jetzt nur noch auslagern auf die einzelnen websites. Entweder auf die klick action der einzelnen tabs oder auf ne unter seite die man lädt wenn man ein tab drückt. .
        // müssen wir uns noch mal überlegen
        //  random pro/kontra
        //  eigene website: wäre vermutlich übersichtlicher die einzelnen divs vorzubereiten und dann anzuzeigen. du hast das ja schon mal mit den graphen gemacht. man könnte das eifnach kopieren
        // wie sieht das mit der komplexität aus? ich weiß es nicht
        // als click action: man müsste dann quasi die seite aus dynamischen divs zusammenbauen die dann gefüllt werden können.
        // könnte unübersichtlch werden wenn hier alles ist.
        // const div = d3.select(document.getElementById('mat-tab-content-' + this.categoryIndex + '-' + this.groupIndex + '').children[0]);
        let year = 2020;
        const groupValue = this.dataService.getGraph(year, this.getNativeTypeFromIndex(this.groupIndex));
        groupValue.calculateAmount();
        document.getElementById('femaleAmountInput').value = String(Math.round(groupValue.amountfemale));
        document.getElementById('maleAmountInput').value = String(Math.round(groupValue.amountmale));
        if (year == 2020) {
            document.getElementById('femaleAmountInput').disabled = false;
            document.getElementById('maleAmountInput').disabled = false;
            document.getElementById('saveButton').style.visibility = "visible";
        }
        else {
            document.getElementById('femaleAmountInput').disabled = true;
            document.getElementById('maleAmountInput').disabled = true;
            document.getElementById('saveButton').style.visibility = "hidden";
        }
        const femaleValues = [];
        const maleValues = [];
        for (let i = 0; i <= 100; i++) {
            if (groupValue.female[i].amount_generated) {
                femaleValues.push(undefined);
            }
            else {
                femaleValues.push(groupValue.female[i].amount / groupValue.amountfemale);
            }
            if (groupValue.male[i].amount_generated) {
                maleValues.push(undefined);
            }
            else {
                maleValues.push(groupValue.male[i].amount / groupValue.amountmale);
            }
        }
        let editable = year == 2020;
        this.graphs[0] = new _chart_service__WEBPACK_IMPORTED_MODULE_4__["ChartService"](femaleValues, [0, 100], 767, 370, d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('genderF')).insert('svg'), document.getElementById('saveButton'), editable);
        this.graphs[1] = new _chart_service__WEBPACK_IMPORTED_MODULE_4__["ChartService"](maleValues, [0, 100], 767, 370, d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('genderM')).insert('svg'), document.getElementById('saveButton'), editable);
        // this.graphs[0].setConnectedGraph(this.graphs[1]);
        // this.graphs[1].setConnectedGraph(this.graphs[0]);
        // this.setRandomValues();
    }
    buildFertilityGraph() {
        const groupValue = this.dataService.getGraph(Number(document.getElementById('yearSliderInput').value), this.getNativeTypeFromIndex(this.groupIndex));
        let femaleValues = [];
        document.getElementById('femaleAmountInput').value = String(Math.round(groupValue.birth_amount));
        for (let i = 0; i <= 100; i++) {
            if (groupValue.female[i].birthrate_generated) {
                femaleValues.push(undefined);
            }
            else {
                femaleValues.push(groupValue.female[i].birthrate);
            }
        }
        document.getElementById('saveButton').style.visibility = "hidden";
        this.graphs[0] = new _chart_service__WEBPACK_IMPORTED_MODULE_4__["ChartService"](femaleValues, [0, 100], 767, 370, d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('fertilityF')).insert('svg'), document.getElementById('saveButton'));
        // this.setRandomValues();
    }
    buildimmigrationGraph() {
        const groupValue = this.dataService.getGraph(Number(document.getElementById('yearSliderInput').value), this.getNativeTypeFromIndex(this.groupIndex));
        let maleTotal = groupValue.immigration_male;
        let femaleTotal = groupValue.immigration_female;
        document.getElementById('femaleAmountInput').value = String(Math.round(femaleTotal));
        document.getElementById('maleAmountInput').value = String(Math.round(maleTotal));
        let femaleValues = [];
        let maleValues = [];
        for (let i = 0; i <= 100; i++) {
            if (groupValue.female[i].immigration_generated) {
                femaleValues.push(undefined);
            }
            else {
                femaleValues.push(groupValue.female[i].immigration / femaleTotal);
            }
            if (groupValue.male[i].immigration_generated) {
                maleValues.push(undefined);
            }
            else {
                maleValues.push(groupValue.male[i].immigration / maleTotal);
            }
        }
        document.getElementById('saveButton').style.visibility = "hidden";
        this.graphs[0] = new _chart_service__WEBPACK_IMPORTED_MODULE_4__["ChartService"](femaleValues, [0, 100], 767, 370, d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('migrationF')).insert('svg'), document.getElementById('saveButton'));
        this.graphs[1] = new _chart_service__WEBPACK_IMPORTED_MODULE_4__["ChartService"](maleValues, [0, 100], 767, 370, d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('migrationM')).insert('svg'), document.getElementById('saveButton'));
        // this.setRandomValues();
    }
    buildSurviveGraph() {
        const groupValue = this.dataService.getGraph(Number(document.getElementById('yearSliderInput').value), this.getNativeTypeFromIndex(this.groupIndex));
        let femaleValues = [];
        let maleValues = [];
        for (let i = 0; i <= 100; i++) {
            if (groupValue.female[i].surviverate_generated) {
                femaleValues.push(undefined);
            }
            else {
                femaleValues.push(groupValue.female[i].surviverate);
            }
            if (groupValue.male[i].surviverate_generated) {
                maleValues.push(undefined);
            }
            else {
                maleValues.push(groupValue.male[i].surviverate);
            }
        }
        document.getElementById('saveButton').style.visibility = "hidden";
        this.graphs[0] = new _chart_service__WEBPACK_IMPORTED_MODULE_4__["ChartService"](femaleValues, [0, 100], 767, 370, d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('surviveF')).insert('svg'), document.getElementById('saveButton'), true, false);
        this.graphs[1] = new _chart_service__WEBPACK_IMPORTED_MODULE_4__["ChartService"](maleValues, [0, 100], 767, 370, d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('surviveM')).insert('svg'), document.getElementById('saveButton'), true, false);
    }
    buildReunificationGraph() {
        const groupValue = this.dataService.getGraph(Number(document.getElementById('yearSliderInput').value), this.getNativeTypeFromIndex(this.groupIndex));
        let maleTotal = 0;
        let femaleTotal = 0;
        for (let i = 0; i <= 100; i++) {
            femaleTotal += groupValue.female[i].reunification;
            maleTotal += groupValue.male[i].reunification;
        }
        document.getElementById('femaleAmountInput').value = String(Math.round(femaleTotal));
        document.getElementById('maleAmountInput').value = String(Math.round(maleTotal));
        let femaleValues = [];
        let maleValues = [];
        for (let i = 0; i <= 100; i++) {
            if (groupValue.female[i].reunification_generated) {
                femaleValues.push(undefined);
            }
            else {
                femaleValues.push(groupValue.female[i].reunification / femaleTotal);
            }
            if (groupValue.male[i].reunification_generated) {
                maleValues.push(undefined);
            }
            else {
                maleValues.push(groupValue.male[i].reunification / maleTotal);
            }
        }
        document.getElementById('saveButton').style.visibility = "hidden";
        this.graphs[0] = new _chart_service__WEBPACK_IMPORTED_MODULE_4__["ChartService"](femaleValues, [0, 100], 767, 370, d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('reunificationF')).insert('svg'), document.getElementById('saveButton'));
        this.graphs[1] = new _chart_service__WEBPACK_IMPORTED_MODULE_4__["ChartService"](maleValues, [0, 100], 767, 370, d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('reunificationM')).insert('svg'), document.getElementById('saveButton'));
    }
    buildOverview() {
        //  if  d3.select(document.getElementById('mat-tab-content-0-0').children[0])        #
        console.log('build overview');
        const pchart = new _piechart_piechart_component__WEBPACK_IMPORTED_MODULE_5__["PiechartComponent"](this.dataService, this.year);
        this.graphs[0] = pchart;
        pchart.setPieChart(d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('mat-tab-content-0-0').children[0]).insert('svg'));
        const stackbar = new _stackbar_stackbar_component__WEBPACK_IMPORTED_MODULE_7__["StackbarComponent"](this.dataService);
        this.graphs[1] = stackbar;
        stackbar.createChart(d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('mat-tab-content-0-0').children[0]).insert('svg'));
        const pyramid = new _pyramid_pyramid_component__WEBPACK_IMPORTED_MODULE_8__["PyramidComponent"](this.dataService, this.year);
        this.graphs[2] = pyramid;
        pyramid.createChart(d3__WEBPACK_IMPORTED_MODULE_6__["select"](document.getElementById('mat-tab-content-0-0').children[0]).insert('svg'));
    }
    getNativeTypeFromIndex(index) {
        switch (index) {
            case 0:
                return _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].EinheimischeNichtMuslime;
            case 1:
                return _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].EinheimischeMuslime;
            case 2:
                return _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].NichtMuslimischeEinwanderer;
            case 3:
                return _class_native_type__WEBPACK_IMPORTED_MODULE_3__["NativeType"].MuslimischeEinwanderer;
            default:
                break;
        }
    }
    setRandomValues() {
        const first = true;
        for (const graph of this.graphs) {
            for (let i = 1; i < 100; i++) {
                if (i % 10 == 0) {
                    graph.clickGraph(i * 8, Math.round(Math.random() * 200));
                }
                else {
                    graph.removeLine(i);
                    graph.removePoint(i);
                }
            }
        }
    }
};
TabExampleComponent.ctorParameters = () => [
    { type: _data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('gender', { static: false })
], TabExampleComponent.prototype, "gender", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('fertility', { static: false })
], TabExampleComponent.prototype, "fertility", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('migration', { static: false })
], TabExampleComponent.prototype, "migration", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('deatRate', { static: false })
], TabExampleComponent.prototype, "deatRate", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('followUp', { static: false })
], TabExampleComponent.prototype, "followUp", void 0);
TabExampleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-tab-example',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./tab-example.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/tab-example/tab-example.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./tab-example.component.scss */ "./src/app/tab-example/tab-example.component.scss")).default]
    })
], TabExampleComponent);



/***/ }),

/***/ "./src/app/table/table.component.scss":
/*!********************************************!*\
  !*** ./src/app/table/table.component.scss ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("table {\n  width: 100%;\n}\n\nth.mat-sort-header-sorted {\n  color: black;\n}\n\nbody {\n  font-family: \"avenir next\", Arial, sans-serif;\n  font-size: 12px;\n  color: #696969;\n}\n\n.ticks {\n  font-size: 10px;\n}\n\n.track,\n.track-inset,\n.track-overlay {\n  stroke-linecap: round;\n}\n\n.track {\n  stroke: #000;\n  stroke-opacity: 0.3;\n  stroke-width: 10px;\n}\n\n.track-inset {\n  stroke: #ddd;\n  stroke-width: 8px;\n}\n\n.track-overlay {\n  pointer-events: stroke;\n  stroke-width: 50px;\n  stroke: transparent;\n  cursor: crosshair;\n}\n\n.handle {\n  fill: #fff;\n  stroke: #000;\n  stroke-opacity: 0.5;\n  stroke-width: 1.25px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFibGUvQzpcXFVzZXJzXFxld2FsZFxcT25lRHJpdmVcXERlc2t0b3BcXGRldlxcbWlncmFudC1kZW1vZ3JhcGhpYy13ZWJzaXRlXFxkZW1vZ3JhcGhpY1dlYnNpdGUvc3JjXFxhcHBcXHRhYmxlXFx0YWJsZS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvdGFibGUvdGFibGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FER0E7RUFDRSw2Q0FBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FDQUY7O0FER0E7RUFDRSxlQUFBO0FDQUY7O0FER0E7OztFQUdFLHFCQUFBO0FDQUY7O0FER0E7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQ0FGOztBREdBO0VBQ0UsWUFBQTtFQUNBLGlCQUFBO0FDQUY7O0FER0E7RUFDRSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtBQ0FGOztBREdBO0VBQ0UsVUFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLG9CQUFBO0FDQUYiLCJmaWxlIjoic3JjL2FwcC90YWJsZS90YWJsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxudGgubWF0LXNvcnQtaGVhZGVyLXNvcnRlZCB7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG59XHJcblxyXG5cclxuYm9keSB7XHJcbiAgZm9udC1mYW1pbHk6XCJhdmVuaXIgbmV4dFwiLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgY29sb3I6ICM2OTY5Njk7XHJcbn1cclxuXHJcbi50aWNrcyB7XHJcbiAgZm9udC1zaXplOiAxMHB4O1xyXG59XHJcblxyXG4udHJhY2ssXHJcbi50cmFjay1pbnNldCxcclxuLnRyYWNrLW92ZXJsYXkge1xyXG4gIHN0cm9rZS1saW5lY2FwOiByb3VuZDtcclxufVxyXG5cclxuLnRyYWNrIHtcclxuICBzdHJva2U6ICMwMDA7XHJcbiAgc3Ryb2tlLW9wYWNpdHk6IDAuMztcclxuICBzdHJva2Utd2lkdGg6IDEwcHg7XHJcbn1cclxuXHJcbi50cmFjay1pbnNldCB7XHJcbiAgc3Ryb2tlOiAjZGRkO1xyXG4gIHN0cm9rZS13aWR0aDogOHB4O1xyXG59XHJcblxyXG4udHJhY2stb3ZlcmxheSB7XHJcbiAgcG9pbnRlci1ldmVudHM6IHN0cm9rZTtcclxuICBzdHJva2Utd2lkdGg6IDUwcHg7XHJcbiAgc3Ryb2tlOiB0cmFuc3BhcmVudDtcclxuICBjdXJzb3I6IGNyb3NzaGFpcjtcclxufVxyXG5cclxuLmhhbmRsZSB7XHJcbiAgZmlsbDogI2ZmZjtcclxuICBzdHJva2U6ICMwMDA7XHJcbiAgc3Ryb2tlLW9wYWNpdHk6IDAuNTtcclxuICBzdHJva2Utd2lkdGg6IDEuMjVweDtcclxufSIsInRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbnRoLm1hdC1zb3J0LWhlYWRlci1zb3J0ZWQge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbmJvZHkge1xuICBmb250LWZhbWlseTogXCJhdmVuaXIgbmV4dFwiLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgZm9udC1zaXplOiAxMnB4O1xuICBjb2xvcjogIzY5Njk2OTtcbn1cblxuLnRpY2tzIHtcbiAgZm9udC1zaXplOiAxMHB4O1xufVxuXG4udHJhY2ssXG4udHJhY2staW5zZXQsXG4udHJhY2stb3ZlcmxheSB7XG4gIHN0cm9rZS1saW5lY2FwOiByb3VuZDtcbn1cblxuLnRyYWNrIHtcbiAgc3Ryb2tlOiAjMDAwO1xuICBzdHJva2Utb3BhY2l0eTogMC4zO1xuICBzdHJva2Utd2lkdGg6IDEwcHg7XG59XG5cbi50cmFjay1pbnNldCB7XG4gIHN0cm9rZTogI2RkZDtcbiAgc3Ryb2tlLXdpZHRoOiA4cHg7XG59XG5cbi50cmFjay1vdmVybGF5IHtcbiAgcG9pbnRlci1ldmVudHM6IHN0cm9rZTtcbiAgc3Ryb2tlLXdpZHRoOiA1MHB4O1xuICBzdHJva2U6IHRyYW5zcGFyZW50O1xuICBjdXJzb3I6IGNyb3NzaGFpcjtcbn1cblxuLmhhbmRsZSB7XG4gIGZpbGw6ICNmZmY7XG4gIHN0cm9rZTogIzAwMDtcbiAgc3Ryb2tlLW9wYWNpdHk6IDAuNTtcbiAgc3Ryb2tlLXdpZHRoOiAxLjI1cHg7XG59Il19 */");

/***/ }),

/***/ "./src/app/table/table.component.ts":
/*!******************************************!*\
  !*** ./src/app/table/table.component.ts ***!
  \******************************************/
/*! exports provided: TableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableComponent", function() { return TableComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data.service */ "./src/app/data.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm2015/material.js");
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3 */ "./node_modules/d3/index.js");
/* harmony import */ var d3_simple_slider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3-simple-slider */ "./node_modules/d3-simple-slider/index.js");






let TableComponent = class TableComponent {
    constructor(dataService) {
        this.dataService = dataService;
        this.highlightedRow = null;
        this.tableDS = new _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatTableDataSource"](this.data);
        this.clickedDataSet = new _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatTableDataSource"]([]);
    }
    ngOnInit() {
        // Time
        var dataTime = d3__WEBPACK_IMPORTED_MODULE_4__["range"](0, 81).map(function (d) {
            return new Date(2020 + d, 1, 1);
        });
        var displayValues = d3__WEBPACK_IMPORTED_MODULE_4__["range"](0, 81).map(function (d) {
            return new Date(2020 + d, 1, 1);
        });
        for (var i = 0; i < displayValues.length; i += 10) {
            displayValues.splice((i) + 1, 9);
        }
        let width = parseInt(d3__WEBPACK_IMPORTED_MODULE_4__["select"]('body').style('width'), 10);
        width = 1000;
        var sliderTime = d3_simple_slider__WEBPACK_IMPORTED_MODULE_5__["sliderBottom"]()
            .min(d3__WEBPACK_IMPORTED_MODULE_4__["min"](dataTime))
            .max(d3__WEBPACK_IMPORTED_MODULE_4__["max"](dataTime))
            .step(width * 60 * 60 * 24 * 365)
            .width(width)
            .tickFormat(d3__WEBPACK_IMPORTED_MODULE_4__["timeFormat"]('%Y'))
            .tickValues(dataTime)
            .default(new Date(2050, 1, 1))
            .on('onchange', val => {
            d3__WEBPACK_IMPORTED_MODULE_4__["select"]('p#value-time').text(d3__WEBPACK_IMPORTED_MODULE_4__["timeFormat"]('%Y')(val));
            this.data = this.dataService.years[Number(d3__WEBPACK_IMPORTED_MODULE_4__["timeFormat"]('%Y')(val)) - 2020].population;
            this.tableDS.data = this.data;
            document.getElementById('Group').hidden = true;
        });
        var gTime = d3__WEBPACK_IMPORTED_MODULE_4__["select"]('div#slider-time')
            .append('svg')
            .attr('width', width + 50)
            .attr('height', 100)
            .append('g')
            .attr('transform', 'translate(30,30)');
        gTime.call(sliderTime);
        d3__WEBPACK_IMPORTED_MODULE_4__["select"]('p#value-time').text(d3__WEBPACK_IMPORTED_MODULE_4__["timeFormat"]('%Y')(sliderTime.value()));
        // var sliderTime = d3
        //   .sliderBottom()
        //   .min(d3.min(dataTime))
        //   .max(d3.max(dataTime))
        //   .step(1000 * 60 * 60 * 24 * 365)
        //   .width(300)
        //   .tickFormat(d3.timeFormat('%Y'))
        //   .tickValues(dataTime)
        //   .default(new Date(1998, 10, 3))
        //   .on('onchange', val => {
        //     d3.select('p#value-time').text(d3.timeFormat('%Y')(val));
        //   });
        this.displayedColumns = ['Land', 'Anzahl', 'Jahr'];
        this.displayedColumnsPerGroup = ['Alter', 'Geschlecht', 'Einzelanzahl', 'Geburtenrate'];
        this.data = this.dataService.years[30].population;
        this.tableDS.data = this.data;
        console.log(this.data);
        console.log(this.tableDS.data);
    }
    changeHiddenStatus(row) {
        // vielleich hidden true, timeout, hidden false , für "ladeeffekte"
        this.highlightedRow = row;
        this.clickedDataSet.data = row.female.concat(row.male);
        document.getElementById('Group').hidden = false;
        this.clickedDataSet.sort = this.sort;
    }
};
TableComponent.ctorParameters = () => [
    { type: _data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSort"], { static: true })
], TableComponent.prototype, "sort", void 0);
TableComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-table',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./table.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/table/table.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./table.component.scss */ "./src/app/table/table.component.scss")).default]
    })
], TableComponent);



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.

const environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");






if (_environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_3__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_4__["AppModule"])
    .catch(err => console.error(err));


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\ewald\OneDrive\Desktop\dev\migrant-demographic-website\demographicWebsite\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main-es2015.js.map